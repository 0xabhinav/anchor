import{PublicKey as e,SYSVAR_RENT_PUBKEY as t,SystemProgram as n,SYSVAR_CLOCK_PUBKEY as r,SendTransactionError as a,TransactionInstruction as o,Transaction as i}from"@solana/web3.js";import s,{Buffer as c}from"buffer";import d from"bn.js";import u from"bs58";import l from"camelcase";import*as p from"@coral-xyz/borsh";import{sha256 as m}from"@noble/hashes/sha256";import{inflate as h}from"pako";import g from"eventemitter3";const f=e=>"version"in e;function y(e){return u.encode(e)}function v(e){return e.toString("base64")}function V(e){return c.from(e,"base64")}function w(e,...t){if(e.args.length!=t.length)throw new Error("Invalid argument length");const n={};let r=0;return e.args.forEach((e=>{n[e.name]=t[r],r+=1})),n}function b(e,t={}){e.forEach((e=>{if("accounts"in e)b(e.accounts,t[e.name]);else if(void 0===t[e.name])throw new Error(`Invalid arguments: ${e.name} not provided.`)}))}function T(t){return t instanceof e?t:new e(t)}class A extends TypeError{constructor(e,t){let n;const{message:r,...a}=e,{path:o}=e;super(0===o.length?r:"At path: "+o.join(".")+" -- "+r),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>{var r;return null!=(r=n)?r:n=[e,...t()]}}}function S(e){return"object"==typeof e&&null!=e}function k(e){return"string"==typeof e?JSON.stringify(e):""+e}function E(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:a,branch:o}=t,{type:i}=n,{refinement:s,message:c="Expected a value of type `"+i+"`"+(s?" with refinement `"+s+"`":"")+", but received: `"+k(r)+"`"}=e;return{value:r,type:i,refinement:s,key:a[a.length-1],path:a,branch:o,...e,message:c}}function*x(e,t,n,r){(function(e){return S(e)&&"function"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const a of e){const e=E(a,t,n,r);e&&(yield e)}}function*I(e,t,n){void 0===n&&(n={});const{path:r=[],branch:a=[e],coerce:o=!1,mask:i=!1}=n,s={path:r,branch:a};if(o&&(e=t.coercer(e,s),i&&"type"!==t.type&&S(t.schema)&&S(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c=!0;for(const n of t.validator(e,s))c=!1,yield[n,void 0];for(let[n,d,u]of t.entries(e,s)){const t=I(d,u,{path:void 0===n?r:[...r,n],branch:void 0===n?a:[...a,d],coerce:o,mask:i});for(const r of t)r[0]?(c=!1,yield[r[0],void 0]):o&&(d=r[1],void 0===n?e=d:e instanceof Map?e.set(n,d):e instanceof Set?e.add(d):S(e)&&(e[n]=d))}if(c)for(const n of t.refiner(e,s))c=!1,yield[n,void 0];c&&(yield[void 0,e])}class M{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:t,schema:n,validator:r,refiner:a,coercer:o=(e=>e),entries:i=function*(){}}=e;this.type=t,this.schema=n,this.entries=i,this.coercer=o,this.validator=r?(e,t)=>x(r(e,t),t,this,e):()=>[],this.refiner=a?(e,t)=>x(a(e,t),t,this,e):()=>[]}assert(e){return function(e,t){const n=_(e,t);if(n[0])throw n[0]}(e,this)}create(e){return P(e,this)}is(e){return R(e,this)}mask(e){return function(e,t){const n=_(e,t,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(e,this)}validate(e,t){return void 0===t&&(t={}),_(e,this,t)}}function P(e,t){const n=_(e,t,{coerce:!0});if(n[0])throw n[0];return n[1]}function R(e,t){return!_(e,t)[0]}function _(e,t,n){void 0===n&&(n={});const r=I(e,t,n),a=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(a[0]){const e=new A(a[0],(function*(){for(const e of r)e[0]&&(yield e[0])}));return[e,void 0]}return[void 0,a[1]]}function O(e,t){return new M({type:e,schema:null,validator:t})}function C(e){return new M({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+k(e)})}function G(e){const t=k(e),n=typeof e;return new M({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||"Expected the literal `"+t+"`, but received: "+k(n)})}function L(e){return new M({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function B(){return O("number",(e=>"number"==typeof e&&!isNaN(e)||"Expected a number, but received: "+k(e)))}function U(e){return new M({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function D(){return O("string",(e=>"string"==typeof e||"Expected a string, but received: "+k(e)))}function N(e){const t=Object.keys(e);return new M({type:"type",schema:e,*entries(n){if(S(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>S(e)||"Expected an object, but received: "+k(e)})}function W(e){const t=e.map((e=>e.type)).join(" | ");return new M({type:"union",schema:null,coercer(t,n){const r=e.find((e=>{const[n]=e.validate(t,{coerce:!0});return!n}))||j();return r.coercer(t,n)},validator(n,r){const a=[];for(const t of e){const[...e]=I(n,t,r),[o]=e;if(!o[0])return[];for(const[t]of e)t&&a.push(t)}return["Expected the value to satisfy a union of `"+t+"`, but received: "+k(n),...a]}})}function j(){return O("unknown",(()=>!0))}async function q(e,t,n){if(t.length<=99)return await F(e,t,n);{const r=function(e,t){return Array.apply(0,new Array(Math.ceil(e.length/t))).map(((n,r)=>e.slice(r*t,(r+1)*t)))}(t,99);return(await Promise.all(r.map((t=>F(e,t,n))))).flat()}}async function F(e,t,n){const r=null!=n?n:e.commitment,{value:a,context:o}=await e.getMultipleAccountsInfoAndContext(t,r);return a.map(((e,n)=>null===e?null:{publicKey:t[n],account:e,context:o}))}function z(e){return function(e,t,n){return new M({...e,coercer:(r,a)=>R(r,t)?e.coercer(n(r,a),a):e.coercer(r,a)})}(K(e),$,(t=>"error"in t?t:{...t,result:P(t.result,e)}))}const $=K(j());function K(e){return W([N({jsonrpc:G("2.0"),id:D(),result:e}),N({jsonrpc:G("2.0"),id:D(),error:N({code:j(),message:D(),data:U(O("any",(()=>!0)))})})])}const H=(J=N({err:L(W([N({}),D()])),logs:L(C(D())),accounts:U(L(C(L(N({executable:O("boolean",(e=>"boolean"==typeof e)),owner:D(),lamports:B(),data:C(D()),rentEpoch:U(B())}))))),unitsConsumed:U(B())}),z(N({context:N({slot:B()}),value:J})));var J;class Z{constructor(e,t,n){this.connection=e,this.wallet=t,this.opts=n,this.publicKey=null==t?void 0:t.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,t,n){var r,o,i,s;if(void 0===n&&(n=this.opts),f(e))t&&e.sign(t);else if(e.feePayer=null!==(r=e.feePayer)&&void 0!==r?r:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash,t)for(const n of t)e.partialSign(n);const c=(e=await this.wallet.signTransaction(e)).serialize();try{return await Y(this.connection,c,n)}catch(t){if(t instanceof Q){const n=y(f(e)?(null===(o=e.signatures)||void 0===o?void 0:o[0])||new Uint8Array:null!==(i=e.signature)&&void 0!==i?i:new Uint8Array),r=await this.connection.getTransaction(n,{commitment:"confirmed"});if(r){const e=null===(s=r.meta)||void 0===s?void 0:s.logMessages;throw e?new a(t.message,e):t}throw t}throw t}}async sendAll(e,t){var n,r,o;void 0===t&&(t=this.opts);const i=(await this.connection.getLatestBlockhash(t.preflightCommitment)).blockhash;let s=e.map((e=>{var t,n;if(f(e.tx)){let t=e.tx;return e.signers&&t.sign(e.signers),t}{let r=e.tx,a=null!==(t=e.signers)&&void 0!==t?t:[];return r.feePayer=null!==(n=r.feePayer)&&void 0!==n?n:this.wallet.publicKey,r.recentBlockhash=i,a.forEach((e=>{r.partialSign(e)})),r}}));const c=await this.wallet.signAllTransactions(s),d=[];for(let e=0;e<s.length;e+=1){const i=c[e],s=i.serialize();try{d.push(await Y(this.connection,s,t))}catch(e){if(e instanceof Q){const t=y(f(i)?(null===(n=i.signatures)||void 0===n?void 0:n[0])||new Uint8Array:null!==(r=i.signature)&&void 0!==r?r:new Uint8Array),s=await this.connection.getTransaction(t,{commitment:"confirmed"});if(s){const t=null===(o=s.meta)||void 0===o?void 0:o.logMessages;throw t?new a(e.message,t):e}throw e}throw e}}return d}async simulate(e,t,n,r){let o,i=(await this.connection.getLatestBlockhash(null!=n?n:this.connection.commitment)).blockhash;if(f(e)?(t&&t.length>0&&(e.sign(t),e=await this.wallet.signTransaction(e)),o=await this.connection.simulateTransaction(e,{commitment:n})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=i,t&&t.length>0&&(e=await this.wallet.signTransaction(e)),o=await async function(e,t,n,r,o){var i;n&&n.length>0&&t.sign(...n);const s=t._compile(),c=s.serialize(),d=t._serialize(c).toString("base64"),u={encoding:"base64",commitment:null!=r?r:e.commitment};if(o){const e=(Array.isArray(o)?o:s.nonProgramIds()).map((e=>e.toBase58()));u.accounts={encoding:"base64",addresses:e}}n&&n.length>0&&(u.sigVerify=!0);const l=[d,u],p=P(await e._rpcRequest("simulateTransaction",l),H);if("error"in p){let e;if("data"in p.error&&(e=null===(i=p.error.data)||void 0===i?void 0:i.logs,e&&Array.isArray(e))){const t="\n    ",n=t+e.join(t);console.error(p.error.message,n)}throw new a("failed to simulate transaction: "+p.error.message,e)}return p.result}(this.connection,e,t,n,r)),o.value.err)throw new X(o.value);return o.value}}class X extends Error{constructor(e,t){super(t),this.simulationResponse=e}}async function Y(e,t,n){const r=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},a=await e.sendRawTransaction(t,r),o=(await e.confirmTransaction(a,n&&n.commitment)).value;if(o.err)throw new Q(`Raw transaction ${a} failed (${JSON.stringify(o)})`);return a}class Q extends Error{constructor(e){super(e)}}function ee(){return Z.local()}const te=new Map;function ne(e){return void 0!==te.get(e)}class re extends Error{constructor(e){super(e),this.name="IdlError"}}class ae{constructor(e){this.stack=e}static parse(t){var n;const r=/^Program (\w*) invoke/,a=/^Program \w* success/,o=[];for(let i=0;i<t.length;i++){if(a.exec(t[i])){o.pop();continue}const s=null===(n=r.exec(t[i]))||void 0===n?void 0:n[1];s&&o.push(new e(s))}return new ae(o)}}class oe extends Error{constructor(e,t,n,r,a,o){super(n.join("\n").replace("Program log: ","")),this.errorLogs=n,this.logs=r,this.error={errorCode:e,errorMessage:t,comparedValues:o,origin:a},this._programErrorStack=ae.parse(r)}static parse(t){if(!t)return null;const n=t.findIndex((e=>e.startsWith("Program log: AnchorError")));if(-1===n)return null;const r=t[n],a=[r];let o;if(n+1<t.length)if("Program log: Left:"===t[n+1]){const r=/^Program log: (.*)$/,i=r.exec(t[n+2])[1],s=r.exec(t[n+4])[1];o=[new e(i),new e(s)],a.push(...t.slice(n+1,n+5))}else if(t[n+1].startsWith("Program log: Left:")){const e=/^Program log: (Left|Right): (.*)$/,r=e.exec(t[n+1])[2],i=e.exec(t[n+2])[2];a.push(...t.slice(n+1,n+3)),o=[r,i]}const i=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),s=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),c=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(i){const[e,n,r]=i.slice(1,4),s={code:e,number:parseInt(n)};return new oe(s,r,a,t,void 0,o)}if(s){const[e,n,r,i,c]=s.slice(1,6),d={code:r,number:parseInt(i)},u={file:e,line:parseInt(n)};return new oe(d,c,a,t,u,o)}if(c){const[e,n,r,i]=c.slice(1,5),s=e,d={code:n,number:parseInt(r)};return new oe(d,i,a,t,s,o)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class ie extends Error{constructor(e,t,n){super(),this.code=e,this.msg=t,this.logs=n,n&&(this._programErrorStack=ae.parse(n))}static parse(e,t){const n=e.toString();let r,a;if(n.includes("custom program error:")){let e=n.split("custom program error: ");if(2!==e.length)return null;r=e[1]}else{const e=n.match(/"Custom":([0-9]+)}/g);if(!e||e.length>1)return null;r=e[0].match(/([0-9]+)/g)[0]}try{a=parseInt(r)}catch(e){return null}let o=t.get(a);return void 0!==o?new ie(a,o,e.logs):(o=ce.get(a),void 0!==o?new ie(a,o,e.logs):null)}get program(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack}toString(){return this.msg}}function se(e,t){ne("debug-logs")&&console.log("Translating error:",e);const n=oe.parse(e.logs);if(n)return n;const r=ie.parse(e,t);if(r)return r;if(e.logs){const t={get:function(t,n){return"programErrorStack"===n?t.programErrorStack.stack:"program"===n?t.programErrorStack.stack[e.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return e.programErrorStack=ae.parse(e.logs),new Proxy(e,t)}return e}const ce=new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[1e3,"The program was compiled without idl instructions"],[1001,"The transaction was given an invalid program for the IDL instruction"],[2e3,"A mut constraint was violated"],[2001,"A has one constraint was violated"],[2002,"A signer constraint was violated"],[2003,"A raw constraint was violated"],[2004,"An owner constraint was violated"],[2005,"A rent exemption constraint was violated"],[2006,"A seeds constraint was violated"],[2007,"An executable constraint was violated"],[2008,"Deprecated Error, feel free to replace with something else"],[2009,"An associated constraint was violated"],[2010,"An associated init constraint was violated"],[2011,"A close constraint was violated"],[2012,"An address constraint was violated"],[2013,"Expected zero account discriminant"],[2014,"A token mint constraint was violated"],[2015,"A token owner constraint was violated"],[2016,"A mint mint authority constraint was violated"],[2017,"A mint freeze authority constraint was violated"],[2018,"A mint decimals constraint was violated"],[2019,"A space constraint was violated"],[2020,"A required account for the constraint is None"],[2500,"A require expression was violated"],[2501,"A require_eq expression was violated"],[2502,"A require_keys_eq expression was violated"],[2503,"A require_neq expression was violated"],[2504,"A require_keys_neq expression was violated"],[2505,"A require_gt expression was violated"],[2506,"A require_gte expression was violated"],[3e3,"The account discriminator was already set on this account"],[3001,"No 8 byte discriminator was found on the account"],[3002,"8 byte discriminator did not match what was expected"],[3003,"Failed to deserialize the account"],[3004,"Failed to serialize the account"],[3005,"Not enough account keys given to the instruction"],[3006,"The given account is not mutable"],[3007,"The given account is owned by a different program than expected"],[3008,"Program ID was not as expected"],[3009,"Program account is not executable"],[3010,"The given account did not sign"],[3011,"The given account is not owned by the system program"],[3012,"The program expected this account to be already initialized"],[3013,"The given account is not a program data account"],[3014,"The given account is not the associated token account"],[3015,"The given public key does not match the required sysvar"],[3016,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[3017,"The account was duplicated for more than one reallocation"],[4100,"The declared program id does not match the actual program id"],[5e3,"The API being used is deprecated and should no longer be used"]]);var de=function(){return de=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},de.apply(this,arguments)},ue=function(){return ue=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ue.apply(this,arguments)};function le(e){return e.toLowerCase()}var pe=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],me=/[^A-Z0-9]+/gi;function he(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}function ge(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?pe:n,a=t.stripRegexp,o=void 0===a?me:a,i=t.transform,s=void 0===i?le:i,c=t.delimiter,d=void 0===c?" ":c,u=he(he(e,r,"$1\0$2"),o,"\0"),l=0,p=u.length;"\0"===u.charAt(l);)l++;for(;"\0"===u.charAt(p-1);)p--;return u.slice(l,p).split("\0").map(s).join(d)}(e,ue({delimiter:"."},t))}class fe{static fieldLayout(e,t){const n=void 0!==e.name?l(e.name):void 0;switch(e.type){case"bool":return p.bool(n);case"u8":return p.u8(n);case"i8":return p.i8(n);case"u16":return p.u16(n);case"i16":return p.i16(n);case"u32":return p.u32(n);case"i32":return p.i32(n);case"f32":return p.f32(n);case"u64":return p.u64(n);case"i64":return p.i64(n);case"f64":return p.f64(n);case"u128":return p.u128(n);case"i128":return p.i128(n);case"u256":return p.u256(n);case"i256":return p.i256(n);case"bytes":return p.vecU8(n);case"string":return p.str(n);case"publicKey":return p.publicKey(n);default:if("vec"in e.type)return p.vec(fe.fieldLayout({name:void 0,type:e.type.vec},t),n);if("option"in e.type)return p.option(fe.fieldLayout({name:void 0,type:e.type.option},t),n);if("defined"in e.type){if(!t)throw new re("User defined types not provided");const r=e.type.defined,a=t.filter((e=>e.name===r));if(1!==a.length)throw new re(`Type not found: ${JSON.stringify(e)}`);return fe.typeDefLayout(a[0],t,n)}if("array"in e.type){let r=e.type.array[0],a=e.type.array[1],o=fe.fieldLayout({name:void 0,type:r},t);return p.array(o,a,n)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e,t=[],n){switch(e.type.kind){case"struct":{const r=e.type.fields.map((e=>fe.fieldLayout(e,t)));return p.struct(r,n)}case"enum":{let r=e.type.variants.map((e=>{const n=l(e.name);if(!e.fields)return p.struct([],n);const r=e.fields.map(((e,n)=>(null==e?void 0:e.name)?fe.fieldLayout(e,t):fe.fieldLayout({type:e,name:n.toString()},t)));return p.struct(r,n)}));return void 0!==n?p.rustEnum(r).replicate(n):p.rustEnum(r,n)}case"alias":return fe.fieldLayout({type:e.type.value,name:e.name},t)}}}const ye="global";class ve{constructor(e){this.idl=e,this.ixLayout=ve.parseIxLayout(e);const t=new Map;e.instructions.forEach((e=>{const n=we(ye,e.name);t.set(u.encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),this.sighashLayouts=t}encode(e,t,n){return this._encode(e,t,null!=n?n:we(ye,e))}_encode(e,t,n){const r=c.alloc(1e3),a=l(e),o=this.ixLayout.get(a);if(!o)throw new Error(`Unknown method: ${a}`);const i=o.encode(t,r),s=r.slice(0,i);return c.concat([n,s])}static parseIxLayout(e){const t=e.instructions.map((t=>{let n=t.args.map((t=>{var n,r;return fe.fieldLayout(t,Array.from([...null!==(n=e.accounts)&&void 0!==n?n:[],...null!==(r=e.types)&&void 0!==r?r:[]]))}));const r=l(t.name);return[r,p.struct(n,r)]}));return new Map(t)}decode(e,t="hex",n){"string"==typeof e&&(e="hex"===t?c.from(e,"hex"):u.decode(e));let r=u.encode(n?we(ye,n):e.slice(0,8)),a=e.slice(8);const o=this.sighashLayouts.get(r);return o?{data:o.layout.decode(a),name:o.name}:null}format(e,t){return Ve.format(e,t,this.idl)}}class Ve{static format(e,t,n){const r=n.instructions.filter((t=>e.name===t.name))[0];if(void 0===r)return console.error("Invalid instruction given"),null;const a=r.args.map((t=>({name:t.name,type:Ve.formatIdlType(t.type),data:Ve.formatIdlData(t,e.data[t.name],n.types)}))),o=Ve.flattenIdlAccounts(r.accounts);return{args:a,accounts:t.map(((e,t)=>t<o.length?{name:o[t].name,...e}:{name:void 0,...e}))}}static formatIdlType(e){if("string"==typeof e)return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,n){if("string"==typeof e.type)return t.toString();if(e.type.hasOwnProperty("vec"))return"["+t.map((t=>this.formatIdlData({name:"",type:e.type.vec},t,n))).join(", ")+"]";if(e.type.hasOwnProperty("option"))return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t,n);if(e.type.hasOwnProperty("defined")){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((t=>t.name===e.type.defined));if(1!==r.length)throw new Error(`Type not found: ${e.type.defined}`);return Ve.formatIdlDataDefined(r[0],t,n)}return"unknown"}static formatIdlDataDefined(e,t,n){switch(e.type.kind){case"struct":{const r=e.type,a=Object.keys(t).map((e=>{const a=r.fields.find((t=>t.name===e));if(!a)throw new Error("Unable to find type");return e+": "+Ve.formatIdlData(a,t[e],n)})).join(", ");return"{ "+a+" }"}case"enum":if(0===e.type.variants.length)return"{}";if(e.type.variants[0].name){const r=e.type.variants,a=Object.keys(t)[0],o=t[a],i=l(a),s=r.find((e=>l(e.name)===i));if(!s)throw new Error(`Unable to find variant \`${a}\``);const c=s.fields,d=Object.keys(o).map((e=>{const t=o[e],r=l(e),a=c.find((e=>l(e.name)===r));if(!a)throw new Error(`Unable to find field \`${e}\``);return e+": "+Ve.formatIdlData(a,t,n)})).join(", "),u=l(a,{pascalCase:!0});return 0===d.length?u:`${u} { ${d} }`}return"Tuple formatting not yet implemented";case"alias":return Ve.formatIdlType(e.type.value)}}static flattenIdlAccounts(e,t){return e.map((e=>{const n=function(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}(e.name);if(e.hasOwnProperty("accounts")){const r=t?`${t} > ${n}`:n;return Ve.flattenIdlAccounts(e.accounts,r)}return{...e,name:t?`${t} > ${n}`:n}})).flat()}}function we(e,t){var n;let r=`${e}:${void 0===n&&(n={}),ge(t,de({delimiter:"_"},n))}`;return c.from(m(r).slice(0,8))}function be(e,t){switch(t.type.kind){case"struct":return t.type.fields.map((t=>Te(e,t.type))).reduce(((e,t)=>e+t),0);case"enum":{const n=t.type.variants.map((t=>t.fields?t.fields.map((t=>Te(e,"object"==typeof t&&"name"in t?t.type:t))).reduce(((e,t)=>e+t),0):0));return Math.max(...n)+1}case"alias":return Te(e,t.type.value)}}function Te(e,t){var n,r;switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"u256":case"i256":case"publicKey":return 32;default:if("vec"in t)return 1;if("option"in t)return 1+Te(e,t.option);if("coption"in t)return 4+Te(e,t.coption);if("defined"in t){const a=null!==(r=null===(n=e.types)||void 0===n?void 0:n.filter((e=>e.name===t.defined)))&&void 0!==r?r:[];if(1!==a.length)throw new re(`Type not found: ${JSON.stringify(t)}`);return be(e,a[0])}if("array"in t){let n=t.array[0],r=t.array[1];return Te(e,n)*r}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}function Ae(e){return Buffer.from(m(e).slice(0,8))}class Se{constructor(e){if(void 0===e.accounts)return void(this.accountLayouts=new Map);const t=e.accounts.map((t=>[t.name,fe.typeDefLayout(t,e.types)]));this.accountLayouts=new Map(t),this.idl=e}async encode(e,t){const n=c.alloc(1e3),r=this.accountLayouts.get(e);if(!r)throw new Error(`Unknown account: ${e}`);const a=r.encode(t,n);let o=n.slice(0,a),i=Se.accountDiscriminator(e);return c.concat([i,o])}decode(e,t){if(Se.accountDiscriminator(e).compare(t.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeAny(e){const t=e.slice(0,8),n=Array.from(this.accountLayouts.keys()).find((e=>Se.accountDiscriminator(e).equals(t)));if(!n)throw new Error("Account descriminator not found");return this.decodeUnchecked(n,e)}decodeUnchecked(e,t){const n=t.subarray(8),r=this.accountLayouts.get(e);if(!r)throw new Error(`Unknown account: ${e}`);return r.decode(n)}memcmp(e,t){const n=Se.accountDiscriminator(e);return{offset:0,bytes:u.encode(t?c.concat([n,t]):n)}}size(e){var t;return 8+(null!==(t=be(this.idl,e))&&void 0!==t?t:0)}static accountDiscriminator(e){return Ae(`account:${l(e,{pascalCase:!0,preserveConsecutiveUppercase:!0})}`)}}class ke{constructor(e){if(void 0===e.events)return void(this.layouts=new Map);const t=e.events.map((t=>{let n={name:t.name,type:{kind:"struct",fields:t.fields.map((e=>({name:e.name,type:e.type})))}};return[t.name,fe.typeDefLayout(n,e.types)]}));this.layouts=new Map(t),this.discriminators=new Map(void 0===e.events?[]:e.events.map((e=>{return[v((t=e.name,Ae(`event:${t}`))),e.name];var t})))}decode(e){let t;try{t=V(e)}catch(e){return null}const n=v(t.slice(0,8)),r=this.discriminators.get(n);if(void 0===r)return null;const a=this.layouts.get(r);if(!a)throw new Error(`Unknown event: ${r}`);return{data:a.decode(t.slice(8)),name:r}}}class Ee{constructor(e){if(void 0===e.types)return void(this.typeLayouts=new Map);const t=e.types.map((t=>[t.name,fe.typeDefLayout(t,e.types)]));this.typeLayouts=new Map(t),this.idl=e}encode(e,t){const n=c.alloc(1e3),r=this.typeLayouts.get(e);if(!r)throw new Error(`Unknown type: ${e}`);const a=r.encode(t,n);return n.slice(0,a)}decode(e,t){const n=this.typeLayouts.get(e);if(!n)throw new Error(`Unknown type: ${e}`);return n.decode(t)}}class xe{constructor(e){this.instruction=new ve(e),this.accounts=new Se(e),this.events=new ke(e),this.types=new Ee(e)}}var Ie="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};class Me{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var Pe=Me;class Re extends Me{isCount(){throw new Error("ExternalLayout is abstract")}}class _e extends Re{constructor(e,t,n){if(!(e instanceof Me))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Oe||this.layout instanceof Ce}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return void 0===n&&(n=0),this.layout.encode(e,t,n+this.offset)}}class Oe extends Me{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntLE(e,n,this.span),this.span}}class Ce extends Me{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntBE(e,n,this.span),this.span}}const Ge=Math.pow(2,32);function Le(e){const t=Math.floor(e/Ge);return{hi32:t,lo32:e-t*Ge}}function Be(e,t){return e*Ge+t}class Ue extends Me{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return Be(e.readUInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=Le(e);return t.writeUInt32LE(r.lo32,n),t.writeUInt32LE(r.hi32,n+4),8}}class De extends Me{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return Be(e.readInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=Le(e);return t.writeUInt32LE(r.lo32,n),t.writeInt32LE(r.hi32,n+4),8}}class Ne extends Me{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof Me),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const a=r.getSpan(e,t);return t+=a,n+a}),0)}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t){void 0===t&&(t=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){void 0===n&&(n=0);const r=n;let a=0,o=0;for(const r of this.fields){let i=r.span;if(o=0<i?i:0,void 0!==r.property){const a=e[r.property];void 0!==a&&(o=r.encode(a,t,n),0>i&&(i=r.getSpan(t,n)))}a=n,n+=i}return a+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class We{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class je extends We{constructor(e,t){if(!(e instanceof Re&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class qe extends Me{constructor(e,t,n){const r=e instanceof Oe||e instanceof Ce;if(r)e=new je(new _e(e));else if(e instanceof Re&&e.isCount())e=new je(e);else if(!(e instanceof We))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof Me))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let a=-1;t&&(a=t.span,0<=a&&r&&(a+=e.layout.span)),super(a,n),this.discriminator=e,this.usesPrefixDiscriminator=r,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){let n;void 0===t&&(t=0);const r=this.discriminator,a=r.decode(e,t);let o=this.registry[a];if(void 0===o){let i=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(i=r.layout.span),n=this.makeDestinationObject(),n[r.property]=a,n[o.property]=this.defaultLayout.decode(e,t+i)}else n=o.decode(e,t);return n}encode(e,t,n){void 0===n&&(n=0);const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,a=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(e[r.property],t,n),o+a.encode(e[a.property],t,n+o)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new Fe(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t){let n=e;return Buffer.isBuffer(e)&&(void 0===t&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}}class Fe extends Me{constructor(e,t,n,r){if(!(e instanceof qe))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof Me))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let a=e.span;0>e.span&&(a=n?n.span:0,0<=a&&e.usesPrefixDiscriminator&&(a+=e.discriminator.layout.span)),super(a,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let a=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),a+=this.layout.getSpan(t,n+r),0<=this.union.span&&a>this.union.span))throw new Error("encoded variant overruns containing union");return a}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class ze extends Me{constructor(e,t){if(!(e instanceof Re&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Re||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){void 0===t&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof Re&&(r=e.length),!Buffer.isBuffer(e)||r!==e.length)throw new TypeError((a="Blob.encode",((o=this).property?a+"["+o.property+"]":a)+" requires (length "+r+") Buffer as src"));var a,o;if(n+r>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),n,r,"hex"),this.length instanceof Re&&this.length.encode(r,t,n),r}}var $e=(e,t,n)=>new _e(e,t,n),Ke=e=>new Oe(4,e),He=e=>new De(e),Je=(e,t,n)=>new Ne(e,t,n),Ze=(e,t,n)=>new qe(e,t,n),Xe=(e,t)=>new ze(e,t);class Ye extends Pe{constructor(e){super(-1,e),this.property=e,this.layout=Je([Ke("length"),Ke("lengthPadding"),Xe($e(Ke(),-8),"chars")],this.property)}encode(e,t,n=0){if(null==e)return this.layout.span;const r={chars:Buffer.from(e,"utf8")};return this.layout.encode(r,t,n)}decode(e,t=0){return this.layout.decode(e,t).chars.toString()}getSpan(e,t=0){return Ke().span+Ke().span+new d(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function Qe(e){return new Ye(e)}function et(e){return Xe(32,e)}const tt=Ze(Ke("instruction"));tt.addVariant(0,Je([He("lamports"),He("space"),et("owner")]),"createAccount"),tt.addVariant(1,Je([et("owner")]),"assign"),tt.addVariant(2,Je([He("lamports")]),"transfer"),tt.addVariant(3,Je([et("base"),Qe("seed"),He("lamports"),He("space"),et("owner")]),"createAccountWithSeed"),tt.addVariant(4,Je([et("authorized")]),"advanceNonceAccount"),tt.addVariant(5,Je([He("lamports")]),"withdrawNonceAccount"),tt.addVariant(6,Je([et("authorized")]),"initializeNonceAccount"),tt.addVariant(7,Je([et("authorized")]),"authorizeNonceAccount"),tt.addVariant(8,Je([He("space")]),"allocate"),tt.addVariant(9,Je([et("base"),Qe("seed"),He("space"),et("owner")]),"allocateWithSeed"),tt.addVariant(10,Je([et("base"),Qe("seed"),et("owner")]),"assignWithSeed"),tt.addVariant(11,Je([He("lamports"),Qe("seed"),et("owner")]),"transferWithSeed"),Math.max(...Object.values(tt.registry).map((e=>e.span)));class nt extends Pe{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}function rt(t){return new nt(Xe(32),(t=>new e(t)),(e=>e.toBuffer()),t)}var at;Je([Ke("version"),Ke("state"),rt("authorizedPubkey"),rt("nonce"),Je([(at="lamportsPerSignature",new Ue(at))],"feeCalculator")]);const ot=new e("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),it=new e("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var st={exports:{}};function ct(e){return"accounts"in e}!function(e,t){var n="undefined"!=typeof self?self:Ie,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,a="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,i="ArrayBuffer"in e;if(i)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function m(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:a&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i&&a&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=f(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=h(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=d(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[d(e)]},p.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},p.prototype.set=function(e,t){this.map[d(e)]=u(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),l(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),l(e)},r&&(p.prototype[Symbol.iterator]=p.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function V(e,t){var n,r,a=(t=t||{}).body;if(e instanceof V){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,a||null==e._bodyInit||(a=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),v.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(a)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),a=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(a))}})),t}function b(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}V.prototype.clone=function(){return new V(this,{body:this._bodyInit})},y.call(V.prototype),y.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var T=[301,302,303,307,308];b.redirect=function(e,t){if(-1===T.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function A(e,n){return new Promise((function(r,o){var i=new V(e,n);if(i.signal&&i.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var a=n.join(":").trim();t.append(r,a)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var a="response"in s?s.response:s.responseText;r(new b(a,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},s.open(i.method,i.url,!0),"include"===i.credentials?s.withCredentials=!0:"omit"===i.credentials&&(s.withCredentials=!1),"responseType"in s&&a&&(s.responseType="blob"),i.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),i.signal&&(i.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&i.signal.removeEventListener("abort",c)}),s.send(void 0===i._bodyInit?null:i._bodyInit)}))}A.polyfill=!0,e.fetch||(e.fetch=A,e.Headers=p,e.Request=V,e.Response=b),t.Headers=p,t.Request=V,t.Response=b,t.fetch=A,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var a=r;(t=a.fetch).default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t}(st,st.exports),p.rustEnum([p.struct([],"uninitialized"),p.struct([p.option(p.publicKey(),"authorityAddress")],"buffer"),p.struct([p.publicKey("programdataAddress")],"program"),p.struct([p.u64("slot"),p.option(p.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,p.u32());const dt=p.struct([p.publicKey("authority"),p.vecU8("data")]);function ut(e,t){var n,r;let a={};const o=e.args?e.args.length:0;if(t.length>o){if(t.length!==o+1)throw new Error(`provided too many arguments ${t} to instruction ${null==e?void 0:e.name} expecting: ${null!==(r=null===(n=e.args)||void 0===n?void 0:n.map((e=>e.name)))&&void 0!==r?r:[]}`);a=t.pop()}return[t,a]}class lt{static build(e,t,n){if("_inner"===e.name)throw new re("the _inner name is reserved");const r=(...a)=>{const[i,s]=ut(e,[...a]),{discriminator:c}=s;b(e.accounts,s.accounts);const d=r.accounts(s.accounts);return void 0!==s.remainingAccounts&&d.push(...s.remainingAccounts),ne("debug-logs")&&console.log("Outgoing account metas:",d),new o({keys:d,programId:n,data:t(e.name,w(e,...i),c)})};return r.accounts=t=>lt.accountsArray(t,e.accounts,n,e.name),r}static accountsArray(e,t,n,r){return e?t.map((t=>{if(void 0!==("accounts"in t?t.accounts:void 0)){const a=e[t.name];return lt.accountsArray(a,t.accounts,n,r).flat()}{const a=t;let o;try{o=T(e[t.name])}catch(e){throw new Error(`Wrong input type for account "${t.name}" in the instruction accounts object${void 0!==r?' for instruction "'+r+'"':""}. Expected PublicKey or string.`)}const i=a.isOptional&&o.equals(n);return{pubkey:o,isWritable:a.isMut&&!i,isSigner:a.isSigner&&!i}}})).flat():[]}}class pt{static build(e,t){return(...n)=>{var r,a,o;const[,s]=ut(e,[...n]),c=new i;if(s.preInstructions&&s.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(r=s.preInstructions)||void 0===r||r.forEach((e=>c.add(e))),null===(a=s.instructions)||void 0===a||a.forEach((e=>c.add(e))),c.add(t(...n)),null===(o=s.postInstructions)||void 0===o||o.forEach((e=>c.add(e))),c}}}class mt{static build(e,t,n,r){return async(...a)=>{var o;const i=t(...a),[,s]=ut(e,[...a]);if(void 0===r.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await r.sendAndConfirm(i,null!==(o=s.signers)&&void 0!==o?o:[],s.options)}catch(e){throw se(e,n)}}}}class ht{static build(e,t,n,r){var a;const o={};return null===(a=e.accounts)||void 0===a||a.forEach((a=>{const i=l(a.name);o[i]=new gt(e,a,n,r,t)})),o}}class gt{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}get idlAccount(){return this._idlAccount}constructor(e,t,n,r,a){this._idlAccount=t,this._programId=n,this._provider=null!=r?r:ee(),this._coder=null!=a?a:new xe(e),this._size=this._coder.accounts.size(t)}async fetchNullable(e,t){const{data:n}=await this.fetchNullableAndContext(e,t);return n}async fetchNullableAndContext(e,t){const n=await this.getAccountInfoAndContext(e,t),{value:r,context:a}=n;return{data:r&&0!==r.data.length?this._coder.accounts.decode(this._idlAccount.name,r.data):null,context:a}}async fetch(e,t){const{data:n}=await this.fetchNullableAndContext(e,t);if(null===n)throw new Error(`Account does not exist or has no data ${e.toString()}`);return n}async fetchAndContext(e,t){const{data:n,context:r}=await this.fetchNullableAndContext(e,t);if(null===n)throw new Error(`Account does not exist ${e.toString()}`);return{data:n,context:r}}async fetchMultiple(e,t){return(await this.fetchMultipleAndContext(e,t)).map((e=>e?e.data:null))}async fetchMultipleAndContext(e,t){return(await q(this._provider.connection,e.map((e=>T(e))),t)).map((e=>{if(null==e)return null;const{account:t,context:n}=e;return{data:this._coder.accounts.decode(this._idlAccount.name,t.data),context:n}}))}async all(e){const t=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Buffer?e:void 0),n=[];return null!=(null==t?void 0:t.offset)&&null!=(null==t?void 0:t.bytes)&&n.push({memcmp:{offset:t.offset,bytes:t.bytes}}),null!=(null==t?void 0:t.dataSize)&&n.push({dataSize:t.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...n,...Array.isArray(e)?e:[]]})).map((({pubkey:e,account:t})=>({publicKey:e,account:this._coder.accounts.decode(this._idlAccount.name,t.data)})))}subscribe(e,t){const n=ft.get(e.toString());if(n)return n.ee;const r=new g;e=T(e);const a=this._provider.connection.onAccountChange(e,(e=>{const t=this._coder.accounts.decode(this._idlAccount.name,e.data);r.emit("change",t)}),t);return ft.set(e.toString(),{ee:r,listener:a}),r}async unsubscribe(e){let t=ft.get(e.toString());t?ft&&await this._provider.connection.removeAccountChangeListener(t.listener).then((()=>{ft.delete(e.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const r=this.size;if(void 0===this._provider.publicKey)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return n.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:null!=t?t:r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=t?t:r),programId:this._programId})}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(T(e),t)}async getAccountInfoAndContext(e,t){return await this._provider.connection.getAccountInfoAndContext(T(e),t)}}const ft=new Map,yt="Program log: ",vt="Program data: ",Vt=yt.length,wt=vt.length;class bt{constructor(e,t,n){this._programId=e,this._provider=t,this._eventParser=new Tt(e,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){var n;let r=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,(null!==(n=this._eventListeners.get(e))&&void 0!==n?n:[]).concat(r)),this._eventCallbacks.set(r,[e,t]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((e,t)=>{if(!e.err)for(const n of this._eventParser.parseLogs(e.logs)){const r=this._eventListeners.get(n.name);r&&r.forEach((r=>{const a=this._eventCallbacks.get(r);if(a){const[,r]=a;r(n.data,t.slot,e.signature)}}))}}))),r}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[n]=t;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);if(this._eventCallbacks.delete(e),r=r.filter((t=>t!==e)),this._eventListeners.set(n,r),0===r.length&&this._eventListeners.delete(n),0===this._eventCallbacks.size){if(0!==this._eventListeners.size)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class Tt{constructor(e,t){this.coder=t,this.programId=e}*parseLogs(e,t=!1){const n=new St(e),r=new At;let a=n.next();for(;null!==a;){let[e,o,i]=this.handleLog(r,a,t);e&&(yield e),o&&r.push(o),i&&r.pop(),a=n.next()}}handleLog(e,t,n){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t,n):[null,...this.handleSystemLog(t)]}handleProgramLog(e,t){if(e.startsWith(yt)||e.startsWith(vt)){const n=e.startsWith(yt)?e.slice(Vt):e.slice(wt),r=this.coder.events.decode(n);if(t&&null===r)throw new Error(`Unable to decode event ${n}`);return[r,null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return null!==t.match(/^Program (.*) success/g)?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class At{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class St{constructor(e){this.logs=e}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}class kt{static build(e,t,n,r,a,o,i){return async(...s)=>{var c;const d=t(...s),[,u]=ut(e,[...s]);let l;if(void 0===r.simulate)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{l=await r.simulate(d,u.signers,null===(c=u.options)||void 0===c?void 0:c.commitment)}catch(e){throw se(e,n)}if(void 0===l)throw new Error("Unable to simulate transaction");const p=l.logs;if(!p)throw new Error("Simulated logs not found");const m=[];if(i.events){let e=new Tt(o,a);for(const t of e.parseLogs(p))m.push(t)}return{events:m,raw:p}}}}function Et(e){return new Mt(Xe(8),(e=>Rt.fromBuffer(e)),(e=>e.toBuffer()),e)}function xt(t){return new Mt(Xe(32),(t=>new e(t)),(e=>e.toBuffer()),t)}function It(e,t){return new Pt(e,t)}class Mt extends Pe{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}class Pt extends Pe{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=Ke()}encode(e,t,n=0){return null==e?this.layout.span+this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.layout.encode(e,t,n+4)+4)}decode(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}class Rt extends d{toBuffer(){const e=super.toArray().reverse(),t=Buffer.from(e);if(8===t.length)return t;if(t.length>=8)throw new Error("u64 too large");const n=Buffer.alloc(8);return t.copy(n),n}static fromBuffer(e){if(8!==e.length)throw new Error(`Invalid buffer length: ${e.length}`);return new Rt([...e].reverse().map((e=>`00${e.toString(16)}`.slice(-2))).join(""),16)}}const _t=Je([xt("mint"),xt("owner"),Et("amount"),It(xt(),"delegate"),(e=>{const t=Ze((e=>new Oe(1,e))("discriminator"),null,"state");return t.addVariant(0,Je([]),"uninitialized"),t.addVariant(1,Je([]),"initialized"),t.addVariant(2,Je([]),"frozen"),t})(),It(Et(),"isNative"),Et("delegatedAmount"),It(xt(),"closeAuthority")]);class Ot{constructor(e,t,n,r,a,o,i,s){this._accounts=t,this._provider=n,this._programId=r,this._idlIx=a,this._idlTypes=i,this._customResolver=s,this._args=e,this._accountStore=new Ct(n,o,this._programId)}args(e){this._args=e}async resolve(){for(await this.resolveConst(this._idlIx.accounts),this._resolveEventCpi(this._idlIx.accounts);await this.resolvePdas(this._idlIx.accounts)+await this.resolveRelations(this._idlIx.accounts)+await this.resolveCustom()>0;);}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:t}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,t}return 0}resolveOptionalsHelper(e,t){const n={};for(const r of t){const t=r.name,a=e[t];void 0!==a&&(Lt(a)?ct(r)?n[t]=this.resolveOptionalsHelper(a,r.accounts):n[t]=Bt(a,!0):null!==a?n[t]=T(a):r.isOptional&&(n[t]=this._programId))}return n}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){const t=e.reduce(((e,t)=>e&&e[t]),this._accounts);if(t&&t.toBase58)return t}set(e,t){let n=this._accounts;e.forEach(((r,a)=>{a==e.length-1&&(n[r]=t),n[r]=n[r]||{},n=n[r]}))}async resolveConst(e,t=[]){for(let n=0;n<e.length;n+=1){const r=e[n],a=r.accounts;a&&await this.resolveConst(a,[...t,l(r.name)]);const o=r,i=l(r.name);if(o.isSigner&&!this.get([...t,i])){if(void 0===this._provider.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this.set([...t,i],this._provider.wallet.publicKey)}Reflect.has(Ot.CONST_ACCOUNTS,i)&&!this.get([...t,i])&&this.set([...t,i],Ot.CONST_ACCOUNTS[i])}}_resolveEventCpi(t,n=[]){for(const r in t){const a=t[r],o=a.accounts;o&&this._resolveEventCpi(o,[...n,l(a.name)]);const i=+r+1;if(i===t.length)return;const s=l(t[r].name),c=l(t[i].name);if("eventAuthority"===s&&"program"===c){const t=[...n,s],r=[...n,c];return this.get(t)||this.set(t,e.findProgramAddressSync([Buffer.from("__event_authority")],this._programId)[0]),void(this.get(r)||this.set(r,this._programId))}}}async resolvePdas(e,t=[]){let n=0;for(let r=0;r<e.length;r+=1){const a=e[r],o=a.accounts;o&&(n+=await this.resolvePdas(o,[...t,l(a.name)]));const i=a,s=l(a.name);i.pda&&i.pda.seeds.length>0&&!this.get([...t,s])&&Boolean(await this.autoPopulatePda(i,t))&&(n+=1)}return n}async resolveRelations(e,t=[]){let n=0;for(let r=0;r<e.length;r+=1){const a=e[r],o=a.accounts;o&&(n+=await this.resolveRelations(o,[...t,l(a.name)]));const i=a.relations||[],s=l(a.name),c=[...t,s],d=this.get(c);if(d){const e=i.filter((e=>!this.get([...t,l(e)])));if(n+=e.length,e.length>0){const n=await this._accountStore.fetchAccount({publicKey:d});await Promise.all(e.map((async e=>{const r=l(e);return this.set([...t,r],n[r]),n[r]})))}}}return n}async autoPopulatePda(t,n=[]){if(!t.pda||!t.pda.seeds)throw new Error("Must have seeds");const r=await Promise.all(t.pda.seeds.map((e=>this.toBuffer(e,n))));if(r.some((e=>void 0===e)))return;const a=await this.parseProgramId(t,n);if(!a)return;const[o]=await e.findProgramAddress(r,a);this.set([...n,l(t.name)],o)}async parseProgramId(t,n=[]){var r;if(!(null===(r=t.pda)||void 0===r?void 0:r.programId))return this._programId;switch(t.pda.programId.kind){case"const":return new e(this.toBufferConst(t.pda.programId.value));case"arg":return this.argValue(t.pda.programId);case"account":return await this.accountValue(t.pda.programId,n);default:throw new Error(`Unexpected program seed: ${t.pda.programId}`)}}async toBuffer(e,t=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,t);default:throw new Error(`Unexpected seed: ${e}`)}}getType(e,t=[]){if(t.length>0&&e.defined){const n=this._idlTypes.find((t=>t.name===e.defined));if(!n)throw new Error(`Cannot find type ${e.defined}`);const r=n.type.fields.find((e=>e.name===t[0]));return this.getType(r.type,t.slice(1))}return e}toBufferConst(e){return this.toBufferValue(this.getType(e.type),e.value)}async toBufferArg(e){const t=this.argValue(e);if(void 0!==t)return this.toBufferValue(this.getType(e.type,(e.path||"").split(".").slice(1)),t)}argValue(e){const t=e.path.split("."),n=l(t[0]),r=this._idlIx.args.findIndex((e=>e.name===n));if(-1===r)throw new Error(`Unable to find argument for seed: ${n}`);return t.slice(1).reduce(((e,t)=>(e||{})[t]),this._args[r])}async toBufferAccount(e,t=[]){const n=await this.accountValue(e,t);if(n)return this.toBufferValue(e.type,n)}async accountValue(e,t=[]){const n=e.path.split("."),r=n[0],a=this.get([...t,l(r)]);if(null===a)throw new Error("fieldPubkey is null");if(1===n.length)return a;const o=await this._accountStore.fetchAccount({publicKey:a,name:e.account});return this.parseAccountValue(o,n.slice(1))}parseAccountValue(e,t){let n;for(;t.length>0;)n=e[l(t[0])],t=t.slice(1);return n}toBufferValue(e,t){switch(e){case"u8":return Buffer.from([t]);case"u16":let r=Buffer.alloc(2);return r.writeUInt16LE(t),r;case"u32":let a=Buffer.alloc(4);return a.writeUInt32LE(t),a;case"u64":let o=Buffer.alloc(8);return o.writeBigUInt64LE(BigInt(t)),o;case"string":return Buffer.from((n=t,(new TextEncoder).encode(n)));case"publicKey":return t.toBuffer();default:if(e.array)return Buffer.from(t);throw new Error(`Unexpected seed type: ${e}`)}var n}}Ot.CONST_ACCOUNTS={associatedTokenProgram:it,rent:t,systemProgram:n.programId,tokenProgram:ot,clock:r};class Ct{constructor(e,t,n){this._provider=e,this._programId=n,this._cache=new Map,this._idls={},this._idls[n.toBase58()]=t}async ensureIdl(e){if(!this._idls[e.toBase58()]){const t=await Wt.fetchIdl(e,this._provider);if(t){const n=new Wt(t,e,this._provider);this._idls[e.toBase58()]=n.account}}return this._idls[e.toBase58()]}async fetchAccount({publicKey:e,name:t,programId:n=this._programId}){const r=e.toString();if(!this._cache.has(r))if("TokenAccount"===t){const t=await this._provider.connection.getAccountInfo(e);if(null===t)throw new Error(`invalid account info for ${r}`);const n=function(e){return _t.decode(e)}(t.data);this._cache.set(r,n)}else if(t){const a=await this.ensureIdl(n);if(a){const n=a[l(t)];if(n){const t=await n.fetch(e);this._cache.set(r,t)}}}else{const t=await this._provider.connection.getAccountInfo(e);if(null===t)throw new Error(`invalid account info for ${r}`);const n=t.data,a=await this.ensureIdl(t.owner);if(a){const e=Object.values(a)[0];if(!e)throw new Error("No accounts for this program");const t=e.coder.accounts.decodeAny(n);this._cache.set(r,t)}}return this._cache.get(r)}}class Gt{static build(e,t,n,r,a,o,i,s,c,d,u){return(...l)=>new Ut(l,r,a,o,i,s,e,t,n,c,d,u)}}function Lt(e){return"object"==typeof e&&null!==e&&!("_bn"in e)}function Bt(e,t){const n={};for(const r in e){const a=e[r];if(null!==a)n[r]=Lt(a)?Bt(a,!0):T(a);else if(t)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!")}return n}class Ut{constructor(e,t,n,r,a,o,i,s,c,d,u,l){this._ixFn=t,this._txFn=n,this._rpcFn=r,this._simulateFn=a,this._viewFn=o,this._programId=s,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._autoResolveAccounts=!0,this._args=e,this._accountsResolver=new Ot(e,this._accounts,i,s,c,d,u,l)}args(e){this._args=e,this._accountsResolver.args(e)}async pubkeys(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._accounts}interface(e){if("spl_transfer_hook_interface::initialize_extra_account_metas"===e)this._discriminator=Buffer.from([43,34,13,49,167,88,235,235]);else{if("spl_transfer_hook_interface::execute"!==e)throw new Error(`Unsupported interface: ${e}`);this._discriminator=Buffer.from([105,37,101,197,75,251,102,26])}return this}accounts(e){return this._autoResolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._autoResolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e){return this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async rpc(e){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e,discriminator:this._discriminator})}async rpcAndKeys(e){return{pubkeys:await this.pubkeys(),signature:await this.rpc(e)}}async view(e){if(this._autoResolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,discriminator:this._discriminator})}async prepare(){return{instruction:await this.instruction(),pubkeys:await this.pubkeys(),signers:await this._signers}}async transaction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,discriminator:this._discriminator})}}class Dt{static build(e,t,n,r){const a=t.accounts.find((e=>e.isMut)),o=!!t.returns;if(a||!o)return;return async(...a)=>{var o,i;let s=await n(...a);const c=`Program return: ${e} `;let d=s.raw.find((e=>e.startsWith(c)));if(!d)throw new Error("View expected return log");let u=V(d.slice(c.length)),l=t.returns;if(!l)throw new Error("View expected return type");return fe.fieldLayout({type:l},Array.from([...null!==(o=r.accounts)&&void 0!==o?o:[],...null!==(i=r.types)&&void 0!==i?i:[]])).decode(u)}}}class Nt{static build(e,t,n,r,a){const o={},i={},s={},c={},d={},u={},p=function(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var n;let r=null!==(n=e.msg)&&void 0!==n?n:e.name;t.set(e.code,r)})),t}(e),m=e.accounts?ht.build(e,t,n,r):{};return e.instructions.forEach((h=>{const g=lt.build(h,((e,n,r)=>t.instruction.encode(e,n,r)),n),f=pt.build(h,g),y=mt.build(h,f,p,r),v=kt.build(h,f,p,r,t,n,e),V=Dt.build(n,h,v,e),w=Gt.build(r,n,h,g,f,y,v,V,m,e.types||[],a&&a(h)),b=l(h.name);i[b]=g,s[b]=f,o[b]=y,c[b]=v,d[b]=w,V&&(u[b]=V)})),[o,i,s,m,c,d,u]}}class Wt{get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,t,n,r,a){t=T(t),n||(n=ee()),this._idl=e,this._provider=n,this._programId=t,this._coder=null!=r?r:new xe(e),this._events=new bt(this._programId,n,this._coder);const[o,i,s,c,d,u,l]=Nt.build(e,this._coder,t,n,null!=a?a:()=>{});this.rpc=o,this.instruction=i,this.transaction=s,this.account=c,this.simulate=d,this.methods=u,this.views=l}static async at(e,t){const n=T(e),r=await Wt.fetchIdl(n,t);if(!r)throw new Error(`IDL not found for program: ${e.toString()}`);return new Wt(r,n,t)}static async fetchIdl(t,n){n=null!=n?n:ee();const r=T(t),a=await async function(t){const n=(await e.findProgramAddress([],t))[0];return await e.createWithSeed(n,"anchor:idl",t)}(r),o=await n.connection.getAccountInfo(a);if(!o)return null;let i=(s=o.data.slice(8),dt.decode(s));var s;const c=h(i.data);return JSON.parse(function(e){return new TextDecoder("utf-8").decode(e)}(c))}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new e("11111111111111111111111111111111");var jt={};Object.defineProperty(jt,"__esModule",{value:!0}),jt.s16=jt.s8=jt.nu64be=jt.u48be=jt.u40be=jt.u32be=jt.u24be=jt.u16be=jt.nu64=jt.u48=jt.u40=Rn=jt.u32=jt.u24=jt.u16=Mn=jt.u8=In=jt.offset=jt.greedy=jt.Constant=jt.UTF8=jt.CString=jt.Blob=jt.Boolean=jt.BitField=jt.BitStructure=jt.VariantLayout=jt.Union=jt.UnionLayoutDiscriminator=jt.UnionDiscriminator=jt.Structure=jt.Sequence=jt.DoubleBE=jt.Double=jt.FloatBE=jt.Float=jt.NearInt64BE=jt.NearInt64=jt.NearUInt64BE=jt.NearUInt64=jt.IntBE=jt.Int=jt.UIntBE=jt.UInt=jt.OffsetLayout=jt.GreedyCount=jt.ExternalLayout=jt.bindConstructorLayout=jt.nameWithProperty=jt.Layout=jt.uint8ArrayToBuffer=jt.checkUint8Array=void 0,jt.constant=jt.utf8=jt.cstr=Gn=jt.blob=jt.unionLayoutDiscriminator=jt.union=On=jt.seq=jt.bits=_n=jt.struct=jt.f64be=jt.f64=jt.f32be=jt.f32=jt.ns64be=jt.s48be=jt.s40be=jt.s32be=jt.s24be=jt.s16be=jt.ns64=jt.s48=jt.s40=jt.s32=jt.s24=void 0;const qt=s;function Ft(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function zt(e){return Ft(e),qt.Buffer.from(e.buffer,e.byteOffset,e.length)}jt.checkUint8Array=Ft,jt.uint8ArrayToBuffer=zt;class $t{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var Kt=jt.Layout=$t;function Ht(e,t){return t.property?e+"["+t.property+"]":e}jt.nameWithProperty=Ht,jt.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof $t))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(e,"decode",{value:(e,n)=>t.decode(e,n),writable:!0})};class Jt extends $t{isCount(){throw new Error("ExternalLayout is abstract")}}jt.ExternalLayout=Jt;class Zt extends Jt{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){Ft(e);const n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}}jt.GreedyCount=Zt;class Xt extends Jt{constructor(e,t=0,n){if(!(e instanceof $t))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Yt||this.layout instanceof Qt}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}}jt.OffsetLayout=Xt;class Yt extends $t{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return zt(e).readUIntLE(t,this.span)}encode(e,t,n=0){return zt(t).writeUIntLE(e,n,this.span),this.span}}jt.UInt=Yt;class Qt extends $t{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return zt(e).readUIntBE(t,this.span)}encode(e,t,n=0){return zt(t).writeUIntBE(e,n,this.span),this.span}}jt.UIntBE=Qt;class en extends $t{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return zt(e).readIntLE(t,this.span)}encode(e,t,n=0){return zt(t).writeIntLE(e,n,this.span),this.span}}jt.Int=en;class tn extends $t{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return zt(e).readIntBE(t,this.span)}encode(e,t,n=0){return zt(t).writeIntBE(e,n,this.span),this.span}}jt.IntBE=tn;const nn=Math.pow(2,32);function rn(e){const t=Math.floor(e/nn);return{hi32:t,lo32:e-t*nn}}function an(e,t){return e*nn+t}class on extends $t{constructor(e){super(8,e)}decode(e,t=0){const n=zt(e),r=n.readUInt32LE(t);return an(n.readUInt32LE(t+4),r)}encode(e,t,n=0){const r=rn(e),a=zt(t);return a.writeUInt32LE(r.lo32,n),a.writeUInt32LE(r.hi32,n+4),8}}jt.NearUInt64=on;class sn extends $t{constructor(e){super(8,e)}decode(e,t=0){const n=zt(e);return an(n.readUInt32BE(t),n.readUInt32BE(t+4))}encode(e,t,n=0){const r=rn(e),a=zt(t);return a.writeUInt32BE(r.hi32,n),a.writeUInt32BE(r.lo32,n+4),8}}jt.NearUInt64BE=sn;class cn extends $t{constructor(e){super(8,e)}decode(e,t=0){const n=zt(e),r=n.readUInt32LE(t);return an(n.readInt32LE(t+4),r)}encode(e,t,n=0){const r=rn(e),a=zt(t);return a.writeUInt32LE(r.lo32,n),a.writeInt32LE(r.hi32,n+4),8}}jt.NearInt64=cn;class dn extends $t{constructor(e){super(8,e)}decode(e,t=0){const n=zt(e);return an(n.readInt32BE(t),n.readUInt32BE(t+4))}encode(e,t,n=0){const r=rn(e),a=zt(t);return a.writeInt32BE(r.hi32,n),a.writeUInt32BE(r.lo32,n+4),8}}jt.NearInt64BE=dn;class un extends $t{constructor(e){super(4,e)}decode(e,t=0){return zt(e).readFloatLE(t)}encode(e,t,n=0){return zt(t).writeFloatLE(e,n),4}}jt.Float=un;class ln extends $t{constructor(e){super(4,e)}decode(e,t=0){return zt(e).readFloatBE(t)}encode(e,t,n=0){return zt(t).writeFloatBE(e,n),4}}jt.FloatBE=ln;class pn extends $t{constructor(e){super(8,e)}decode(e,t=0){return zt(e).readDoubleLE(t)}encode(e,t,n=0){return zt(t).writeDoubleLE(e,n),8}}jt.Double=pn;class mn extends $t{constructor(e){super(8,e)}decode(e,t=0){return zt(e).readDoubleBE(t)}encode(e,t,n=0){return zt(t).writeDoubleBE(e,n),8}}jt.DoubleBE=mn;class hn extends $t{constructor(e,t,n){if(!(e instanceof $t))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof Jt&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(t instanceof Jt)&&0<e.span&&(r=t*e.span),super(r,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,r=this.count;if(r instanceof Jt&&(r=r.decode(e,t)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let a=0;for(;a<r;)n+=this.elementLayout.getSpan(e,t+n),++a}return n}decode(e,t=0){const n=[];let r=0,a=this.count;for(a instanceof Jt&&(a=a.decode(e,t));r<a;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),r+=1;return n}encode(e,t,n=0){const r=this.elementLayout,a=e.reduce(((e,a)=>e+r.encode(a,t,n+e)),0);return this.count instanceof Jt&&this.count.encode(e.length,t,n),a}}jt.Sequence=hn;class gn extends $t{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof $t),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce(((n,r)=>{const a=r.getSpan(e,t);return t+=a,n+a}),0)}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t=0){Ft(e);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){const r=n;let a=0,o=0;for(const r of this.fields){let i=r.span;if(o=0<i?i:0,void 0!==r.property){const a=e[r.property];void 0!==a&&(o=r.encode(a,t,n),0>i&&(i=r.getSpan(t,n)))}a=n,n+=i}return a+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}jt.Structure=gn;class fn{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}}jt.UnionDiscriminator=fn;class yn extends fn{constructor(e,t){if(!(e instanceof Jt&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}jt.UnionLayoutDiscriminator=yn;class vn extends $t{constructor(e,t,n){let r;if(e instanceof Yt||e instanceof Qt)r=new yn(new Xt(e));else if(e instanceof Jt&&e.isCount())r=new yn(e);else{if(!(e instanceof fn))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");r=e}if(void 0===t&&(t=null),!(null===t||t instanceof $t))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let a=-1;t&&(a=t.span,0<=a&&(e instanceof Yt||e instanceof Qt)&&(a+=r.layout.span)),super(a,n),this.discriminator=r,this.usesPrefixDiscriminator=e instanceof Yt||e instanceof Qt,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,t=0){let n;const r=this.discriminator,a=r.decode(e,t),o=this.registry[a];if(void 0===o){const o=this.defaultLayout;let i=0;this.usesPrefixDiscriminator&&(i=r.layout.span),n=this.makeDestinationObject(),n[r.property]=a,n[o.property]=o.decode(e,t+i)}else n=o.decode(e,t);return n}encode(e,t,n=0){const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,a=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(e[r.property],t,n),o+a.encode(e[a.property],t,n+o)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new Vn(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t=0){let n;return n=e instanceof Uint8Array?this.discriminator.decode(e,t):e,this.registry[n]}}jt.Union=vn;class Vn extends $t{constructor(e,t,n,r){if(!(e instanceof vn))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof $t))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let a=e.span;0>e.span&&(a=n?n.span:0,0<=a&&e.usesPrefixDiscriminator&&(a+=e.discriminator.layout.span)),super(a,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let r=0;return this.layout&&(r=this.layout.getSpan(e,t+n)),n+r}decode(e,t=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n=0){let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let a=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),a+=this.layout.getSpan(t,n+r),0<=this.union.span&&a>this.union.span))throw new Error("encoded variant overruns containing union");return a}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function wn(e){return 0>e&&(e+=4294967296),e}jt.VariantLayout=Vn;class bn extends $t{constructor(e,t,n){if(!(e instanceof Yt||e instanceof Qt))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===n&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let r=0;this._packedSetValue=function(e){return r=wn(e),this},this._packedGetValue=function(){return r}}decode(e,t=0){const n=this.makeDestinationObject(),r=this.word.decode(e,t);this._packedSetValue(r);for(const t of this.fields)void 0!==t.property&&(n[t.property]=t.decode(e));return n}encode(e,t,n=0){const r=this.word.decode(t,n);this._packedSetValue(r);for(const t of this.fields)if(void 0!==t.property){const n=e[t.property];void 0!==n&&t.encode(n)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new Tn(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new An(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}jt.BitStructure=bn;class Tn{constructor(e,t,n){if(!(e instanceof bn))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const r=8*e.span,a=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+a>r)throw new Error("bits too long for span remainder ("+(r-a)+" of "+r+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=a,this.container.msb&&(this.start=r-a-t),this.wordMask=wn(this.valueMask<<this.start),this.property=n}decode(e,t){return wn(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!=typeof e||!Number.isInteger(e)||e!==wn(e&this.valueMask))throw new TypeError(Ht("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),n=wn(e<<this.start);this.container._packedSetValue(wn(t&~this.wordMask)|n)}}jt.BitField=Tn;class An extends Tn{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"==typeof e&&(e=+e),super.encode(e)}}jt.Boolean=An;class Sn extends $t{constructor(e,t){if(!(e instanceof Jt&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Jt||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),zt(e).slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof Jt&&(r=e.length),!(e instanceof Uint8Array&&r===e.length))throw new TypeError(Ht("Blob.encode",this)+" requires (length "+r+") Uint8Array as src");if(n+r>t.length)throw new RangeError("encoding overruns Uint8Array");const a=zt(e);return zt(t).write(a.toString("hex"),n,r,"hex"),this.length instanceof Jt&&this.length.encode(r,t,n),r}}jt.Blob=Sn;class kn extends $t{constructor(e){super(-1,e)}getSpan(e,t=0){Ft(e);let n=t;for(;n<e.length&&0!==e[n];)n+=1;return 1+n-t}decode(e,t=0){const n=this.getSpan(e,t);return zt(e).slice(t,t+n-1).toString("utf-8")}encode(e,t,n=0){"string"!=typeof e&&(e=String(e));const r=qt.Buffer.from(e,"utf8"),a=r.length;if(n+a>t.length)throw new RangeError("encoding overruns Buffer");const o=zt(t);return r.copy(o,n),o[n+a]=0,a+1}}jt.CString=kn;class En extends $t{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return Ft(e),e.length-t}decode(e,t=0){const n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return zt(e).slice(t,t+n).toString("utf-8")}encode(e,t,n=0){"string"!=typeof e&&(e=String(e));const r=qt.Buffer.from(e,"utf8"),a=r.length;if(0<=this.maxSpan&&this.maxSpan<a)throw new RangeError("text length exceeds maxSpan");if(n+a>t.length)throw new RangeError("encoding overruns Buffer");return r.copy(zt(t),n),a}}jt.UTF8=En;class xn extends $t{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}}jt.Constant=xn,jt.greedy=(e,t)=>new Zt(e,t);var In=jt.offset=(e,t,n)=>new Xt(e,t,n),Mn=jt.u8=e=>new Yt(1,e),Pn=jt.u16=e=>new Yt(2,e);jt.u24=e=>new Yt(3,e);var Rn=jt.u32=e=>new Yt(4,e);jt.u40=e=>new Yt(5,e),jt.u48=e=>new Yt(6,e),jt.nu64=e=>new on(e),jt.u16be=e=>new Qt(2,e),jt.u24be=e=>new Qt(3,e),jt.u32be=e=>new Qt(4,e),jt.u40be=e=>new Qt(5,e),jt.u48be=e=>new Qt(6,e),jt.nu64be=e=>new sn(e),jt.s8=e=>new en(1,e),jt.s16=e=>new en(2,e),jt.s24=e=>new en(3,e),jt.s32=e=>new en(4,e),jt.s40=e=>new en(5,e),jt.s48=e=>new en(6,e),jt.ns64=e=>new cn(e),jt.s16be=e=>new tn(2,e),jt.s24be=e=>new tn(3,e),jt.s32be=e=>new tn(4,e),jt.s40be=e=>new tn(5,e),jt.s48be=e=>new tn(6,e),jt.ns64be=e=>new dn(e),jt.f32=e=>new un(e),jt.f32be=e=>new ln(e),jt.f64=e=>new pn(e),jt.f64be=e=>new mn(e);var _n=jt.struct=(e,t,n)=>new gn(e,t,n);jt.bits=(e,t,n)=>new bn(e,t,n);var On=jt.seq=(e,t,n)=>new hn(e,t,n),Cn=jt.union=(e,t,n)=>new vn(e,t,n);jt.unionLayoutDiscriminator=(e,t)=>new yn(e,t);var Gn=jt.blob=(e,t)=>new Sn(e,t);jt.cstr=e=>new kn(e),jt.utf8=(e,t)=>new En(e,t),jt.constant=(e,t)=>new xn(e,t);const Ln=e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)});var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.toBigIntLE=function(e){{const t=Buffer.from(e);t.reverse();const n=t.toString("hex");return 0===n.length?BigInt(0):BigInt(`0x${n}`)}},Bn.toBigIntBE=function(e){{const t=e.toString("hex");return 0===t.length?BigInt(0):BigInt(`0x${t}`)}},Bn.toBufferLE=function(e,t){{const n=e.toString(16),r=Buffer.from(n.padStart(2*t,"0").slice(0,2*t),"hex");return r.reverse(),r}},Bn.toBufferBE=function(e,t){{const n=e.toString(16);return Buffer.from(n.padStart(2*t,"0").slice(0,2*t),"hex")}};var Un=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Dn=Math.ceil,Nn=Math.floor,Wn="[BigNumber Error] ",jn=Wn+"Number primitive has more than 15 significant digits: ",qn=1e14,Fn=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],zn=1e9;function $n(e){var t=0|e;return e>0||e===t?t:t-1}function Kn(e){for(var t,n,r=1,a=e.length,o=e[0]+"";r<a;){for(n=14-(t=e[r++]+"").length;n--;t="0"+t);o+=t}for(a=o.length;48===o.charCodeAt(--a););return o.slice(0,a+1||1)}function Hn(e,t){var n,r,a=e.c,o=t.c,i=e.s,s=t.s,c=e.e,d=t.e;if(!i||!s)return null;if(n=a&&!a[0],r=o&&!o[0],n||r)return n?r?0:-s:i;if(i!=s)return i;if(n=i<0,r=c==d,!a||!o)return r?0:!a^n?1:-1;if(!r)return c>d^n?1:-1;for(s=(c=a.length)<(d=o.length)?c:d,i=0;i<s;i++)if(a[i]!=o[i])return a[i]>o[i]^n?1:-1;return c==d?0:c>d^n?1:-1}function Jn(e,t,n,r){if(e<t||e>n||e!==Nn(e))throw Error(Wn+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function Zn(e){var t=e.c.length-1;return $n(e.e/14)==t&&e.c[t]%2!=0}function Xn(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function Yn(e,t,n){var r,a;if(t<0){for(a=n+".";++t;a+=n);e=a+e}else if(++t>(r=e.length)){for(a=n,t-=r;--t;a+=n);e+=a}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}var Qn=function e(t){var n,r,a,o,i,s,c,d,u,l,p=E.prototype={constructor:E,toString:null,valueOf:null},m=new E(1),h=20,g=4,f=-7,y=21,v=-1e7,V=1e7,w=!1,b=1,T=0,A={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},S="0123456789abcdefghijklmnopqrstuvwxyz",k=!0;function E(e,t){var n,o,i,s,c,d,u,l,p=this;if(!(p instanceof E))return new E(e,t);if(null==t){if(e&&!0===e._isBigNumber)return p.s=e.s,void(!e.c||e.e>V?p.c=p.e=null:e.e<v?p.c=[p.e=0]:(p.e=e.e,p.c=e.c.slice()));if((d="number"==typeof e)&&0*e==0){if(p.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,c=e;c>=10;c/=10,s++);return void(s>V?p.c=p.e=null:(p.e=s,p.c=[e]))}l=String(e)}else{if(!Un.test(l=String(e)))return a(p,l,d);p.s=45==l.charCodeAt(0)?(l=l.slice(1),-1):1}(s=l.indexOf("."))>-1&&(l=l.replace(".","")),(c=l.search(/e/i))>0?(s<0&&(s=c),s+=+l.slice(c+1),l=l.substring(0,c)):s<0&&(s=l.length)}else{if(Jn(t,2,S.length,"Base"),10==t&&k)return P(p=new E(e),h+p.e+1,g);if(l=String(e),d="number"==typeof e){if(0*e!=0)return a(p,l,d,t);if(p.s=1/e<0?(l=l.slice(1),-1):1,E.DEBUG&&l.replace(/^0\.0*|\./,"").length>15)throw Error(jn+e)}else p.s=45===l.charCodeAt(0)?(l=l.slice(1),-1):1;for(n=S.slice(0,t),s=c=0,u=l.length;c<u;c++)if(n.indexOf(o=l.charAt(c))<0){if("."==o){if(c>s){s=u;continue}}else if(!i&&(l==l.toUpperCase()&&(l=l.toLowerCase())||l==l.toLowerCase()&&(l=l.toUpperCase()))){i=!0,c=-1,s=0;continue}return a(p,String(e),d,t)}d=!1,(s=(l=r(l,t,10,p.s)).indexOf("."))>-1?l=l.replace(".",""):s=l.length}for(c=0;48===l.charCodeAt(c);c++);for(u=l.length;48===l.charCodeAt(--u););if(l=l.slice(c,++u)){if(u-=c,d&&E.DEBUG&&u>15&&(e>9007199254740991||e!==Nn(e)))throw Error(jn+p.s*e);if((s=s-c-1)>V)p.c=p.e=null;else if(s<v)p.c=[p.e=0];else{if(p.e=s,p.c=[],c=(s+1)%14,s<0&&(c+=14),c<u){for(c&&p.c.push(+l.slice(0,c)),u-=14;c<u;)p.c.push(+l.slice(c,c+=14));c=14-(l=l.slice(c)).length}else c-=u;for(;c--;l+="0");p.c.push(+l)}}else p.c=[p.e=0]}function x(e,t,n,r){var a,o,i,s,c;if(null==n?n=g:Jn(n,0,8),!e.c)return e.toString();if(a=e.c[0],i=e.e,null==t)c=Kn(e.c),c=1==r||2==r&&(i<=f||i>=y)?Xn(c,i):Yn(c,i,"0");else if(o=(e=P(new E(e),t,n)).e,s=(c=Kn(e.c)).length,1==r||2==r&&(t<=o||o<=f)){for(;s<t;c+="0",s++);c=Xn(c,o)}else if(t-=i,c=Yn(c,o,"0"),o+1>s){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=o-s)>0)for(o+1==s&&(c+=".");t--;c+="0");return e.s<0&&a?"-"+c:c}function I(e,t){for(var n,r=1,a=new E(e[0]);r<e.length;r++){if(!(n=new E(e[r])).s){a=n;break}t.call(a,n)&&(a=n)}return a}function M(e,t,n){for(var r=1,a=t.length;!t[--a];t.pop());for(a=t[0];a>=10;a/=10,r++);return(n=r+14*n-1)>V?e.c=e.e=null:n<v?e.c=[e.e=0]:(e.e=n,e.c=t),e}function P(e,t,n,r){var a,o,i,s,c,d,u,l=e.c,p=Fn;if(l){e:{for(a=1,s=l[0];s>=10;s/=10,a++);if((o=t-a)<0)o+=14,i=t,u=(c=l[d=0])/p[a-i-1]%10|0;else if((d=Dn((o+1)/14))>=l.length){if(!r)break e;for(;l.length<=d;l.push(0));c=u=0,a=1,i=(o%=14)-14+1}else{for(c=s=l[d],a=1;s>=10;s/=10,a++);u=(i=(o%=14)-14+a)<0?0:c/p[a-i-1]%10|0}if(r=r||t<0||null!=l[d+1]||(i<0?c:c%p[a-i-1]),r=n<4?(u||r)&&(0==n||n==(e.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&(o>0?i>0?c/p[a-i]:0:l[d-1])%10&1||n==(e.s<0?8:7)),t<1||!l[0])return l.length=0,r?(t-=e.e+1,l[0]=p[(14-t%14)%14],e.e=-t||0):l[0]=e.e=0,e;if(0==o?(l.length=d,s=1,d--):(l.length=d+1,s=p[14-o],l[d]=i>0?Nn(c/p[a-i]%p[i])*s:0),r)for(;;){if(0==d){for(o=1,i=l[0];i>=10;i/=10,o++);for(i=l[0]+=s,s=1;i>=10;i/=10,s++);o!=s&&(e.e++,l[0]==qn&&(l[0]=1));break}if(l[d]+=s,l[d]!=qn)break;l[d--]=0,s=1}for(o=l.length;0===l[--o];l.pop());}e.e>V?e.c=e.e=null:e.e<v&&(e.c=[e.e=0])}return e}function R(e){var t,n=e.e;return null===n?e.toString():(t=Kn(e.c),t=n<=f||n>=y?Xn(t,n):Yn(t,n,"0"),e.s<0?"-"+t:t)}return E.clone=e,E.ROUND_UP=0,E.ROUND_DOWN=1,E.ROUND_CEIL=2,E.ROUND_FLOOR=3,E.ROUND_HALF_UP=4,E.ROUND_HALF_DOWN=5,E.ROUND_HALF_EVEN=6,E.ROUND_HALF_CEIL=7,E.ROUND_HALF_FLOOR=8,E.EUCLID=9,E.config=E.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(Wn+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(Jn(n=e[t],0,zn,t),h=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(Jn(n=e[t],0,8,t),g=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(Jn(n[0],-zn,0,t),Jn(n[1],0,zn,t),f=n[0],y=n[1]):(Jn(n,-zn,zn,t),f=-(y=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)Jn(n[0],-zn,-1,t),Jn(n[1],1,zn,t),v=n[0],V=n[1];else{if(Jn(n,-zn,zn,t),!n)throw Error(Wn+t+" cannot be zero: "+n);v=-(V=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(Wn+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw w=!n,Error(Wn+"crypto unavailable");w=n}else w=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(Jn(n=e[t],0,9,t),b=n),e.hasOwnProperty(t="POW_PRECISION")&&(Jn(n=e[t],0,zn,t),T=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(Wn+t+" not an object: "+n);A=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(Wn+t+" invalid: "+n);k="0123456789"==n.slice(0,10),S=n}}return{DECIMAL_PLACES:h,ROUNDING_MODE:g,EXPONENTIAL_AT:[f,y],RANGE:[v,V],CRYPTO:w,MODULO_MODE:b,POW_PRECISION:T,FORMAT:A,ALPHABET:S}},E.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!E.DEBUG)return!0;var t,n,r=e.c,a=e.e,o=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===o||-1===o)&&a>=-zn&&a<=zn&&a===Nn(a)){if(0===r[0]){if(0===a&&1===r.length)return!0;break e}if((t=(a+1)%14)<1&&(t+=14),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=qn||n!==Nn(n))break e;if(0!==n)return!0}}}else if(null===r&&null===a&&(null===o||1===o||-1===o))return!0;throw Error(Wn+"Invalid BigNumber: "+e)},E.maximum=E.max=function(){return I(arguments,p.lt)},E.minimum=E.min=function(){return I(arguments,p.gt)},E.random=(o=9007199254740992,i=Math.random()*o&2097151?function(){return Nn(Math.random()*o)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,a,o,s=0,c=[],d=new E(m);if(null==e?e=h:Jn(e,0,zn),a=Dn(e/14),w)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(a*=2));s<a;)(o=131072*t[s]+(t[s+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[s]=n[0],t[s+1]=n[1]):(c.push(o%1e14),s+=2);s=a/2}else{if(!crypto.randomBytes)throw w=!1,Error(Wn+"crypto unavailable");for(t=crypto.randomBytes(a*=7);s<a;)(o=281474976710656*(31&t[s])+1099511627776*t[s+1]+4294967296*t[s+2]+16777216*t[s+3]+(t[s+4]<<16)+(t[s+5]<<8)+t[s+6])>=9e15?crypto.randomBytes(7).copy(t,s):(c.push(o%1e14),s+=7);s=a/7}if(!w)for(;s<a;)(o=i())<9e15&&(c[s++]=o%1e14);for(e%=14,(a=c[--s])&&e&&(o=Fn[14-e],c[s]=Nn(a/o)*o);0===c[s];c.pop(),s--);if(s<0)c=[r=0];else{for(r=-1;0===c[0];c.splice(0,1),r-=14);for(s=1,o=c[0];o>=10;o/=10,s++);s<14&&(r-=14-s)}return d.e=r,d.c=c,d}),E.sum=function(){for(var e=1,t=arguments,n=new E(t[0]);e<t.length;)n=n.plus(t[e++]);return n},r=function(){var e="0123456789";function t(e,t,n,r){for(var a,o,i=[0],s=0,c=e.length;s<c;){for(o=i.length;o--;i[o]*=t);for(i[0]+=r.indexOf(e.charAt(s++)),a=0;a<i.length;a++)i[a]>n-1&&(null==i[a+1]&&(i[a+1]=0),i[a+1]+=i[a]/n|0,i[a]%=n)}return i.reverse()}return function(r,a,o,i,s){var c,d,u,l,p,m,f,y,v=r.indexOf("."),V=h,w=g;for(v>=0&&(l=T,T=0,r=r.replace(".",""),m=(y=new E(a)).pow(r.length-v),T=l,y.c=t(Yn(Kn(m.c),m.e,"0"),10,o,e),y.e=y.c.length),u=l=(f=t(r,a,o,s?(c=S,e):(c=e,S))).length;0==f[--l];f.pop());if(!f[0])return c.charAt(0);if(v<0?--u:(m.c=f,m.e=u,m.s=i,f=(m=n(m,y,V,w,o)).c,p=m.r,u=m.e),v=f[d=u+V+1],l=o/2,p=p||d<0||null!=f[d+1],p=w<4?(null!=v||p)&&(0==w||w==(m.s<0?3:2)):v>l||v==l&&(4==w||p||6==w&&1&f[d-1]||w==(m.s<0?8:7)),d<1||!f[0])r=p?Yn(c.charAt(1),-V,c.charAt(0)):c.charAt(0);else{if(f.length=d,p)for(--o;++f[--d]>o;)f[d]=0,d||(++u,f=[1].concat(f));for(l=f.length;!f[--l];);for(v=0,r="";v<=l;r+=c.charAt(f[v++]));r=Yn(r,u,c.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,a,o,i,s=0,c=e.length,d=t%1e7,u=t/1e7|0;for(e=e.slice();c--;)s=((a=d*(o=e[c]%1e7)+(r=u*o+(i=e[c]/1e7|0)*d)%1e7*1e7+s)/n|0)+(r/1e7|0)+u*i,e[c]=a%n;return s&&(e=[s].concat(e)),e}function t(e,t,n,r){var a,o;if(n!=r)o=n>r?1:-1;else for(a=o=0;a<n;a++)if(e[a]!=t[a]){o=e[a]>t[a]?1:-1;break}return o}function n(e,t,n,r){for(var a=0;n--;)e[n]-=a,a=e[n]<t[n]?1:0,e[n]=a*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,a,o,i,s){var c,d,u,l,p,m,h,g,f,y,v,V,w,b,T,A,S,k=r.s==a.s?1:-1,x=r.c,I=a.c;if(!(x&&x[0]&&I&&I[0]))return new E(r.s&&a.s&&(x?!I||x[0]!=I[0]:I)?x&&0==x[0]||!I?0*k:k/0:NaN);for(f=(g=new E(k)).c=[],k=o+(d=r.e-a.e)+1,s||(s=qn,d=$n(r.e/14)-$n(a.e/14),k=k/14|0),u=0;I[u]==(x[u]||0);u++);if(I[u]>(x[u]||0)&&d--,k<0)f.push(1),l=!0;else{for(b=x.length,A=I.length,u=0,k+=2,(p=Nn(s/(I[0]+1)))>1&&(I=e(I,p,s),x=e(x,p,s),A=I.length,b=x.length),w=A,v=(y=x.slice(0,A)).length;v<A;y[v++]=0);S=I.slice(),S=[0].concat(S),T=I[0],I[1]>=s/2&&T++;do{if(p=0,(c=t(I,y,A,v))<0){if(V=y[0],A!=v&&(V=V*s+(y[1]||0)),(p=Nn(V/T))>1)for(p>=s&&(p=s-1),h=(m=e(I,p,s)).length,v=y.length;1==t(m,y,h,v);)p--,n(m,A<h?S:I,h,s),h=m.length,c=1;else 0==p&&(c=p=1),h=(m=I.slice()).length;if(h<v&&(m=[0].concat(m)),n(y,m,v,s),v=y.length,-1==c)for(;t(I,y,A,v)<1;)p++,n(y,A<v?S:I,v,s),v=y.length}else 0===c&&(p++,y=[0]);f[u++]=p,y[0]?y[v++]=x[w]||0:(y=[x[w]],v=1)}while((w++<b||null!=y[0])&&k--);l=null!=y[0],f[0]||f.splice(0,1)}if(s==qn){for(u=1,k=f[0];k>=10;k/=10,u++);P(g,o+(g.e=u+14*d-1)+1,i,l)}else g.e=d,g.r=+l;return g}}(),s=/^(-?)0([xbo])(?=\w[\w.]*$)/i,c=/^([^.]+)\.$/,d=/^\.([^.]+)$/,u=/^-?(Infinity|NaN)$/,l=/^\s*\+(?=[\w.])|^\s+|\s+$/g,a=function(e,t,n,r){var a,o=n?t:t.replace(l,"");if(u.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!n&&(o=o.replace(s,(function(e,t,n){return a="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=a?e:t})),r&&(a=r,o=o.replace(c,"$1").replace(d,"0.$1")),t!=o))return new E(o,a);if(E.DEBUG)throw Error(Wn+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},p.absoluteValue=p.abs=function(){var e=new E(this);return e.s<0&&(e.s=1),e},p.comparedTo=function(e,t){return Hn(this,new E(e,t))},p.decimalPlaces=p.dp=function(e,t){var n,r,a,o=this;if(null!=e)return Jn(e,0,zn),null==t?t=g:Jn(t,0,8),P(new E(o),e+o.e+1,t);if(!(n=o.c))return null;if(r=14*((a=n.length-1)-$n(this.e/14)),a=n[a])for(;a%10==0;a/=10,r--);return r<0&&(r=0),r},p.dividedBy=p.div=function(e,t){return n(this,new E(e,t),h,g)},p.dividedToIntegerBy=p.idiv=function(e,t){return n(this,new E(e,t),0,1)},p.exponentiatedBy=p.pow=function(e,t){var n,r,a,o,i,s,c,d,u=this;if((e=new E(e)).c&&!e.isInteger())throw Error(Wn+"Exponent not an integer: "+R(e));if(null!=t&&(t=new E(t)),i=e.e>14,!u.c||!u.c[0]||1==u.c[0]&&!u.e&&1==u.c.length||!e.c||!e.c[0])return d=new E(Math.pow(+R(u),i?2-Zn(e):+R(e))),t?d.mod(t):d;if(s=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new E(NaN);(r=!s&&u.isInteger()&&t.isInteger())&&(u=u.mod(t))}else{if(e.e>9&&(u.e>0||u.e<-1||(0==u.e?u.c[0]>1||i&&u.c[1]>=24e7:u.c[0]<8e13||i&&u.c[0]<=9999975e7)))return o=u.s<0&&Zn(e)?-0:0,u.e>-1&&(o=1/o),new E(s?1/o:o);T&&(o=Dn(T/14+2))}for(i?(n=new E(.5),s&&(e.s=1),c=Zn(e)):c=(a=Math.abs(+R(e)))%2,d=new E(m);;){if(c){if(!(d=d.times(u)).c)break;o?d.c.length>o&&(d.c.length=o):r&&(d=d.mod(t))}if(a){if(0===(a=Nn(a/2)))break;c=a%2}else if(P(e=e.times(n),e.e+1,1),e.e>14)c=Zn(e);else{if(0==(a=+R(e)))break;c=a%2}u=u.times(u),o?u.c&&u.c.length>o&&(u.c.length=o):r&&(u=u.mod(t))}return r?d:(s&&(d=m.div(d)),t?d.mod(t):o?P(d,T,g,void 0):d)},p.integerValue=function(e){var t=new E(this);return null==e?e=g:Jn(e,0,8),P(t,t.e+1,e)},p.isEqualTo=p.eq=function(e,t){return 0===Hn(this,new E(e,t))},p.isFinite=function(){return!!this.c},p.isGreaterThan=p.gt=function(e,t){return Hn(this,new E(e,t))>0},p.isGreaterThanOrEqualTo=p.gte=function(e,t){return 1===(t=Hn(this,new E(e,t)))||0===t},p.isInteger=function(){return!!this.c&&$n(this.e/14)>this.c.length-2},p.isLessThan=p.lt=function(e,t){return Hn(this,new E(e,t))<0},p.isLessThanOrEqualTo=p.lte=function(e,t){return-1===(t=Hn(this,new E(e,t)))||0===t},p.isNaN=function(){return!this.s},p.isNegative=function(){return this.s<0},p.isPositive=function(){return this.s>0},p.isZero=function(){return!!this.c&&0==this.c[0]},p.minus=function(e,t){var n,r,a,o,i=this,s=i.s;if(t=(e=new E(e,t)).s,!s||!t)return new E(NaN);if(s!=t)return e.s=-t,i.plus(e);var c=i.e/14,d=e.e/14,u=i.c,l=e.c;if(!c||!d){if(!u||!l)return u?(e.s=-t,e):new E(l?i:NaN);if(!u[0]||!l[0])return l[0]?(e.s=-t,e):new E(u[0]?i:3==g?-0:0)}if(c=$n(c),d=$n(d),u=u.slice(),s=c-d){for((o=s<0)?(s=-s,a=u):(d=c,a=l),a.reverse(),t=s;t--;a.push(0));a.reverse()}else for(r=(o=(s=u.length)<(t=l.length))?s:t,s=t=0;t<r;t++)if(u[t]!=l[t]){o=u[t]<l[t];break}if(o&&(a=u,u=l,l=a,e.s=-e.s),(t=(r=l.length)-(n=u.length))>0)for(;t--;u[n++]=0);for(t=qn-1;r>s;){if(u[--r]<l[r]){for(n=r;n&&!u[--n];u[n]=t);--u[n],u[r]+=qn}u[r]-=l[r]}for(;0==u[0];u.splice(0,1),--d);return u[0]?M(e,u,d):(e.s=3==g?-1:1,e.c=[e.e=0],e)},p.modulo=p.mod=function(e,t){var r,a,o=this;return e=new E(e,t),!o.c||!e.s||e.c&&!e.c[0]?new E(NaN):!e.c||o.c&&!o.c[0]?new E(o):(9==b?(a=e.s,e.s=1,r=n(o,e,0,3),e.s=a,r.s*=a):r=n(o,e,0,b),(e=o.minus(r.times(e))).c[0]||1!=b||(e.s=o.s),e)},p.multipliedBy=p.times=function(e,t){var n,r,a,o,i,s,c,d,u,l,p,m,h,g,f,y=this,v=y.c,V=(e=new E(e,t)).c;if(!(v&&V&&v[0]&&V[0]))return!y.s||!e.s||v&&!v[0]&&!V||V&&!V[0]&&!v?e.c=e.e=e.s=null:(e.s*=y.s,v&&V?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=$n(y.e/14)+$n(e.e/14),e.s*=y.s,(c=v.length)<(l=V.length)&&(h=v,v=V,V=h,a=c,c=l,l=a),a=c+l,h=[];a--;h.push(0));for(g=qn,f=1e7,a=l;--a>=0;){for(n=0,p=V[a]%f,m=V[a]/f|0,o=a+(i=c);o>a;)n=((d=p*(d=v[--i]%f)+(s=m*d+(u=v[i]/f|0)*p)%f*f+h[o]+n)/g|0)+(s/f|0)+m*u,h[o--]=d%g;h[o]=n}return n?++r:h.splice(0,1),M(e,h,r)},p.negated=function(){var e=new E(this);return e.s=-e.s||null,e},p.plus=function(e,t){var n,r=this,a=r.s;if(t=(e=new E(e,t)).s,!a||!t)return new E(NaN);if(a!=t)return e.s=-t,r.minus(e);var o=r.e/14,i=e.e/14,s=r.c,c=e.c;if(!o||!i){if(!s||!c)return new E(a/0);if(!s[0]||!c[0])return c[0]?e:new E(s[0]?r:0*a)}if(o=$n(o),i=$n(i),s=s.slice(),a=o-i){for(a>0?(i=o,n=c):(a=-a,n=s),n.reverse();a--;n.push(0));n.reverse()}for((a=s.length)-(t=c.length)<0&&(n=c,c=s,s=n,t=a),a=0;t;)a=(s[--t]=s[t]+c[t]+a)/qn|0,s[t]=qn===s[t]?0:s[t]%qn;return a&&(s=[a].concat(s),++i),M(e,s,i)},p.precision=p.sd=function(e,t){var n,r,a,o=this;if(null!=e&&e!==!!e)return Jn(e,1,zn),null==t?t=g:Jn(t,0,8),P(new E(o),e,t);if(!(n=o.c))return null;if(r=14*(a=n.length-1)+1,a=n[a]){for(;a%10==0;a/=10,r--);for(a=n[0];a>=10;a/=10,r++);}return e&&o.e+1>r&&(r=o.e+1),r},p.shiftedBy=function(e){return Jn(e,-9007199254740991,9007199254740991),this.times("1e"+e)},p.squareRoot=p.sqrt=function(){var e,t,r,a,o,i=this,s=i.c,c=i.s,d=i.e,u=h+4,l=new E("0.5");if(1!==c||!s||!s[0])return new E(!c||c<0&&(!s||s[0])?NaN:s?i:1/0);if(0==(c=Math.sqrt(+R(i)))||c==1/0?(((t=Kn(s)).length+d)%2==0&&(t+="0"),c=Math.sqrt(+t),d=$n((d+1)/2)-(d<0||d%2),r=new E(t=c==1/0?"5e"+d:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+d)):r=new E(c+""),r.c[0])for((c=(d=r.e)+u)<3&&(c=0);;)if(o=r,r=l.times(o.plus(n(i,o,u,1))),Kn(o.c).slice(0,c)===(t=Kn(r.c)).slice(0,c)){if(r.e<d&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(a||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(P(r,r.e+h+2,1),e=!r.times(r).eq(i));break}if(!a&&(P(o,o.e+h+2,0),o.times(o).eq(i))){r=o;break}u+=4,c+=4,a=1}return P(r,r.e+h+1,g,e)},p.toExponential=function(e,t){return null!=e&&(Jn(e,0,zn),e++),x(this,e,t,1)},p.toFixed=function(e,t){return null!=e&&(Jn(e,0,zn),e=e+this.e+1),x(this,e,t)},p.toFormat=function(e,t,n){var r,a=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=A;else if("object"!=typeof n)throw Error(Wn+"Argument not an object: "+n);if(r=a.toFixed(e,t),a.c){var o,i=r.split("."),s=+n.groupSize,c=+n.secondaryGroupSize,d=n.groupSeparator||"",u=i[0],l=i[1],p=a.s<0,m=p?u.slice(1):u,h=m.length;if(c&&(o=s,s=c,c=o,h-=o),s>0&&h>0){for(o=h%s||s,u=m.substr(0,o);o<h;o+=s)u+=d+m.substr(o,s);c>0&&(u+=d+m.slice(o)),p&&(u="-"+u)}r=l?u+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?l.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):l):u}return(n.prefix||"")+r+(n.suffix||"")},p.toFraction=function(e){var t,r,a,o,i,s,c,d,u,l,p,h,f=this,y=f.c;if(null!=e&&(!(c=new E(e)).isInteger()&&(c.c||1!==c.s)||c.lt(m)))throw Error(Wn+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+R(c));if(!y)return new E(f);for(t=new E(m),u=r=new E(m),a=d=new E(m),h=Kn(y),i=t.e=h.length-f.e-1,t.c[0]=Fn[(s=i%14)<0?14+s:s],e=!e||c.comparedTo(t)>0?i>0?t:u:c,s=V,V=1/0,c=new E(h),d.c[0]=0;l=n(c,t,0,1),1!=(o=r.plus(l.times(a))).comparedTo(e);)r=a,a=o,u=d.plus(l.times(o=u)),d=o,t=c.minus(l.times(o=t)),c=o;return o=n(e.minus(r),a,0,1),d=d.plus(o.times(u)),r=r.plus(o.times(a)),d.s=u.s=f.s,p=n(u,a,i*=2,g).minus(f).abs().comparedTo(n(d,r,i,g).minus(f).abs())<1?[u,a]:[d,r],V=s,p},p.toNumber=function(){return+R(this)},p.toPrecision=function(e,t){return null!=e&&Jn(e,1,zn),x(this,e,t,2)},p.toString=function(e){var t,n=this,a=n.s,o=n.e;return null===o?a?(t="Infinity",a<0&&(t="-"+t)):t="NaN":(null==e?t=o<=f||o>=y?Xn(Kn(n.c),o):Yn(Kn(n.c),o,"0"):10===e&&k?t=Yn(Kn((n=P(new E(n),h+o+1,g)).c),n.e,"0"):(Jn(e,2,S.length,"Base"),t=r(Yn(Kn(n.c),o,"0"),10,e,a,!0)),a<0&&n.c[0]&&(t="-"+t)),t},p.valueOf=p.toJSON=function(){return R(this)},p._isBigNumber=!0,p[Symbol.toStringTag]="BigNumber",p[Symbol.for("nodejs.util.inspect.custom")]=p.valueOf,null!=t&&E.set(t),E}();new Qn("1e+18");const er=e=>{const t=Mn(e),{encode:n,decode:r}=Ln(t),a=t;return a.decode=(e,t)=>!!r(e,t),a.encode=(e,t,r)=>{const a=Number(e);return n(a,t,r)},a},tr=t=>{const n=Gn(32,t),{encode:r,decode:a}=Ln(n),o=n;return o.decode=(t,n)=>{const r=a(t,n);return new e(r)},o.encode=(e,t,n)=>{const a=e.toBuffer();return r(a,t,n)},o};function nr(e){return new ar(8,!1,e)}function rr(e){return new ar(8,!0,e)}class ar extends Kt{constructor(e,t,n){super(e,n),this.blob=Gn(e),this.signed=t}encode(e,t,n=0){return this.signed&&(e=e.toTwos(8*this.span)),this.blob.encode(e.toArrayLike(Buffer,"le",this.span),t,n)}decode(e,t=0){const n=new d(this.blob.decode(e,t),10,"le");return this.signed?n.fromTwos(8*this.span).clone():n}}function or(e,t){return new ir(e,t)}class ir extends Kt{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=Mn()}encode(e,t,n=0){return null==e?this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.discriminator.span+this.layout.encode(e,t,n+this.discriminator.span))}decode(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+this.discriminator.span);throw new Error("Invalid option "+this.layout.property)}getSpan(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return 1;if(1===n)return this.layout.getSpan(e,t+1)+1;throw new Error("Invalid option "+this.property)}}function sr(e,t){return new cr(e,t)}class cr extends Kt{constructor(e,t){super(-1,t),this.layout=_n([Rn("length"),On(e,In(Rn(),-4),"src")],t)}encode(e,t,n=0){const r={src:e};return this.layout.encode(r,t,n)}decode(e,t=0){return this.layout.decode(e,t).src}getSpan(e,t=0){return this.layout.getSpan(e,t)}}function dr(e){return new ur(e)}class ur extends Kt{constructor(e){super(-1,e),this.layout=_n([Rn("length"),Gn(In(Rn(),-4),"src")],this.property)}encode(e,t,n=0){if(null==e)return this.layout.span;const r={src:e};return this.layout.encode(r,t,n)}decode(e,t=0){return this.layout.decode(e,t).src}getSpan(e,t=0){return Rn().span+new d(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function lr(e){return new pr(e)}class pr extends Kt{constructor(e){super(-1,e),this.layout=_n([Rn("length"),Gn(In(Rn(),-4),"src")],this.property)}encode(e,t,n=0){if(null==e)return this.layout.span;const r={src:Buffer.from(e,"utf8")};return this.layout.encode(r,t,n)}decode(e,t=0){return this.layout.decode(e,t).src.toString()}getSpan(e,t=0){return Rn().span+new d(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}class mr{constructor(e){}async encode(e,t){switch(e){case"realmV2":{const e=Buffer.alloc(10485760),n=hr.encode(t,e);return e.slice(0,n)}case"proposalV2":{const e=Buffer.alloc(10485760),n=gr.encode(t,e);return e.slice(0,n)}case"programMetadata":{const e=Buffer.alloc(10485760),n=fr.encode(t,e);return e.slice(0,n)}case"signatoryRecordV2":{const e=Buffer.alloc(74),n=yr.encode(t,e);return e.slice(0,n)}case"realmV1":{const e=Buffer.alloc(10485760),n=vr.encode(t,e);return e.slice(0,n)}case"tokenOwnerRecordV1":{const e=Buffer.alloc(10485760),n=Vr.encode(t,e);return e.slice(0,n)}case"governanceV1":{const e=Buffer.alloc(108),n=wr.encode(t,e);return e.slice(0,n)}case"proposalV1":{const e=Buffer.alloc(10485760),n=br.encode(t,e);return e.slice(0,n)}case"signatoryRecordV1":{const e=Buffer.alloc(66),n=Tr.encode(t,e);return e.slice(0,n)}case"voteRecordV1":{const e=Buffer.alloc(75),n=Ar.encode(t,e);return e.slice(0,n)}case"governanceV2":{const e=Buffer.alloc(236),n=Sr.encode(t,e);return e.slice(0,n)}case"voteRecordV2":{const e=Buffer.alloc(83),n=kr.encode(t,e);return e.slice(0,n)}case"tokenOwnerRecordV2":{const e=Buffer.alloc(10485760),n=Er.encode(t,e);return e.slice(0,n)}case"realmConfigAccount":{const e=Buffer.alloc(10485760),n=xr.encode(t,e);return e.slice(0,n)}case"proposalTransactionV2":{const e=Buffer.alloc(10485760),n=Ir.encode(t,e);return e.slice(0,n)}default:throw new Error(`Invalid account name: ${e}`)}}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){switch(e){case"realmV2":return function(e){return hr.decode(e)}(t);case"proposalV2":return function(e){return gr.decode(e)}(t);case"programMetadata":return function(e){return fr.decode(e)}(t);case"signatoryRecordV2":return function(e){return yr.decode(e)}(t);case"realmV1":return function(e){return vr.decode(e)}(t);case"tokenOwnerRecordV1":return function(e){return Vr.decode(e)}(t);case"governanceV1":return function(e){return wr.decode(e)}(t);case"proposalV1":return function(e){return br.decode(e)}(t);case"signatoryRecordV1":return function(e){return Tr.decode(e)}(t);case"voteRecordV1":return function(e){return Ar.decode(e)}(t);case"governanceV2":return function(e){return Sr.decode(e)}(t);case"voteRecordV2":return function(e){return kr.decode(e)}(t);case"tokenOwnerRecordV2":return function(e){return Er.decode(e)}(t);case"realmConfigAccount":return function(e){return xr.decode(e)}(t);case"proposalTransactionV2":return function(e){return Ir.decode(e)}(t);default:throw new Error(`Invalid account name: ${e}`)}}memcmp(e,t){switch(e){case"realmV2":case"proposalV2":case"programMetadata":case"realmV1":case"tokenOwnerRecordV1":case"proposalV1":case"tokenOwnerRecordV2":case"realmConfigAccount":case"proposalTransactionV2":return{};case"signatoryRecordV2":return{dataSize:74};case"governanceV1":return{dataSize:108};case"signatoryRecordV1":return{dataSize:66};case"voteRecordV1":return{dataSize:75};case"governanceV2":return{dataSize:236};case"voteRecordV2":return{dataSize:83};default:throw new Error(`Invalid account name: ${e}`)}}size(e){switch(e.name){case"realmV2":case"proposalV2":case"programMetadata":case"realmV1":case"tokenOwnerRecordV1":case"proposalV1":case"tokenOwnerRecordV2":case"realmConfigAccount":case"proposalTransactionV2":return 0;case"signatoryRecordV2":return 74;case"governanceV1":return 108;case"signatoryRecordV1":return 66;case"voteRecordV1":return 75;case"governanceV2":return 236;case"voteRecordV2":return 83;default:throw new Error(`Invalid account name: ${e.name}`)}}}const hr=_n([(e=>{const t=Cn(Mn("discriminator"),null,"accountType");return t.addVariant(0,_n([]),"uninitialized"),t.addVariant(1,_n([]),"realmV1"),t.addVariant(2,_n([]),"tokenOwnerRecordV1"),t.addVariant(3,_n([]),"governanceV1"),t.addVariant(4,_n([]),"programGovernanceV1"),t.addVariant(5,_n([]),"proposalV1"),t.addVariant(6,_n([]),"signatoryRecordV1"),t.addVariant(7,_n([]),"voteRecordV1"),t.addVariant(8,_n([]),"proposalInstructionV1"),t.addVariant(9,_n([]),"mintGovernanceV1"),t.addVariant(10,_n([]),"tokenGovernanceV1"),t.addVariant(11,_n([]),"realmConfig"),t.addVariant(12,_n([]),"voteRecordV2"),t.addVariant(13,_n([]),"proposalTransactionV2"),t.addVariant(14,_n([]),"proposalV2"),t.addVariant(15,_n([]),"programMetadata"),t.addVariant(16,_n([]),"realmV2"),t.addVariant(17,_n([]),"tokenOwnerRecordV2"),t.addVariant(18,_n([]),"governanceV2"),t.addVariant(19,_n([]),"programGovernanceV2"),t.addVariant(20,_n([]),"mintGovernanceV2"),t.addVariant(21,_n([]),"tokenGovernanceV2"),t.addVariant(22,_n([]),"signatoryRecordV2"),t})(),tr("communityMint"),_n([er("useCommunityVoterWeightAddin"),er("useMaxCommunityVoterWeightAddin"),On(Mn(),6,"reserved"),nr("minCommunityWeightToCreateGovernance"),(e=>{const t=Cn(Mn("discriminator"),null,"communityMintMaxVoteWeightSource");return t.addVariant(0,nr(),"supplyFraction"),t.addVariant(1,nr(),"absolute"),t})(),or(tr(),"councilMint")],"config"),On(Mn(),6,"reserved"),Pn("votingProposalCount"),or(tr(),"authority"),lr("name"),On(Mn(),128,"reservedV2")]),gr=_n([(e=>{const t=Cn(Mn("discriminator"),null,"accountType");return t.addVariant(0,_n([]),"uninitialized"),t.addVariant(1,_n([]),"realmV1"),t.addVariant(2,_n([]),"tokenOwnerRecordV1"),t.addVariant(3,_n([]),"governanceV1"),t.addVariant(4,_n([]),"programGovernanceV1"),t.addVariant(5,_n([]),"proposalV1"),t.addVariant(6,_n([]),"signatoryRecordV1"),t.addVariant(7,_n([]),"voteRecordV1"),t.addVariant(8,_n([]),"proposalInstructionV1"),t.addVariant(9,_n([]),"mintGovernanceV1"),t.addVariant(10,_n([]),"tokenGovernanceV1"),t.addVariant(11,_n([]),"realmConfig"),t.addVariant(12,_n([]),"voteRecordV2"),t.addVariant(13,_n([]),"proposalTransactionV2"),t.addVariant(14,_n([]),"proposalV2"),t.addVariant(15,_n([]),"programMetadata"),t.addVariant(16,_n([]),"realmV2"),t.addVariant(17,_n([]),"tokenOwnerRecordV2"),t.addVariant(18,_n([]),"governanceV2"),t.addVariant(19,_n([]),"programGovernanceV2"),t.addVariant(20,_n([]),"mintGovernanceV2"),t.addVariant(21,_n([]),"tokenGovernanceV2"),t.addVariant(22,_n([]),"signatoryRecordV2"),t})(),tr("governance"),tr("governingTokenMint"),(e=>{const t=Cn(Mn("discriminator"),null,"state");return t.addVariant(0,_n([]),"draft"),t.addVariant(1,_n([]),"signingOff"),t.addVariant(2,_n([]),"voting"),t.addVariant(3,_n([]),"succeeded"),t.addVariant(4,_n([]),"executing"),t.addVariant(5,_n([]),"completed"),t.addVariant(6,_n([]),"cancelled"),t.addVariant(7,_n([]),"defeated"),t.addVariant(8,_n([]),"executingWithErrors"),t.addVariant(9,_n([]),"vetoed"),t})(),tr("tokenOwnerRecord"),Mn("signatoriesCount"),Mn("signatoriesSignedOffCount"),(e=>{const t=Cn(Mn("discriminator"),null,"voteType");return t.addVariant(0,_n([]),"singleChoice"),t.addVariant(1,_n([Mn("maxVoterOptions"),Mn("maxWinningOptions")]),"multiChoice"),t})(),sr(_n([lr("label"),nr("voteWeight"),(e=>{const t=Cn(Mn("discriminator"),null,"voteResult");return t.addVariant(0,_n([]),"none"),t.addVariant(1,_n([]),"succeeded"),t.addVariant(2,_n([]),"defeated"),t})(),Pn("transactionsExecutedCount"),Pn("transactionsCount"),Pn("transactionsNextIndex")]),"options"),or(nr(),"denyVoteWeight"),Mn("reserved1"),or(nr(),"abstainVoteWeight"),or(rr(),"startVotingAt"),rr("draftAt"),or(rr(),"signingOffAt"),or(rr(),"votingAt"),or(nr(),"votingAtSlot"),or(rr(),"votingCompletedAt"),or(rr(),"executingAt"),or(rr(),"closedAt"),(e=>{const t=Cn(Mn("discriminator"),null,"executionFlags");return t.addVariant(0,_n([]),"none"),t.addVariant(1,_n([]),"ordered"),t.addVariant(2,_n([]),"useTransaction"),t})(),or(nr(),"maxVoteWeight"),or(Rn(),"maxVotingTime"),or((e=>{const t=Cn(Mn("discriminator"),null,void 0);return t.addVariant(0,Mn(),"yesVotePercentage"),t.addVariant(1,Mn(),"quorumPercentage"),t.addVariant(2,_n([]),"disabled"),t})(),"voteThreshold"),On(Mn(),64,"reserved"),lr("name"),lr("descriptionLink"),nr("vetoVoteWeight")]),fr=_n([(e=>{const t=Cn(Mn("discriminator"),null,"accountType");return t.addVariant(0,_n([]),"uninitialized"),t.addVariant(1,_n([]),"realmV1"),t.addVariant(2,_n([]),"tokenOwnerRecordV1"),t.addVariant(3,_n([]),"governanceV1"),t.addVariant(4,_n([]),"programGovernanceV1"),t.addVariant(5,_n([]),"proposalV1"),t.addVariant(6,_n([]),"signatoryRecordV1"),t.addVariant(7,_n([]),"voteRecordV1"),t.addVariant(8,_n([]),"proposalInstructionV1"),t.addVariant(9,_n([]),"mintGovernanceV1"),t.addVariant(10,_n([]),"tokenGovernanceV1"),t.addVariant(11,_n([]),"realmConfig"),t.addVariant(12,_n([]),"voteRecordV2"),t.addVariant(13,_n([]),"proposalTransactionV2"),t.addVariant(14,_n([]),"proposalV2"),t.addVariant(15,_n([]),"programMetadata"),t.addVariant(16,_n([]),"realmV2"),t.addVariant(17,_n([]),"tokenOwnerRecordV2"),t.addVariant(18,_n([]),"governanceV2"),t.addVariant(19,_n([]),"programGovernanceV2"),t.addVariant(20,_n([]),"mintGovernanceV2"),t.addVariant(21,_n([]),"tokenGovernanceV2"),t.addVariant(22,_n([]),"signatoryRecordV2"),t})(),nr("updatedAt"),lr("version"),On(Mn(),64,"reserved")]),yr=_n([(e=>{const t=Cn(Mn("discriminator"),null,"accountType");return t.addVariant(0,_n([]),"uninitialized"),t.addVariant(1,_n([]),"realmV1"),t.addVariant(2,_n([]),"tokenOwnerRecordV1"),t.addVariant(3,_n([]),"governanceV1"),t.addVariant(4,_n([]),"programGovernanceV1"),t.addVariant(5,_n([]),"proposalV1"),t.addVariant(6,_n([]),"signatoryRecordV1"),t.addVariant(7,_n([]),"voteRecordV1"),t.addVariant(8,_n([]),"proposalInstructionV1"),t.addVariant(9,_n([]),"mintGovernanceV1"),t.addVariant(10,_n([]),"tokenGovernanceV1"),t.addVariant(11,_n([]),"realmConfig"),t.addVariant(12,_n([]),"voteRecordV2"),t.addVariant(13,_n([]),"proposalTransactionV2"),t.addVariant(14,_n([]),"proposalV2"),t.addVariant(15,_n([]),"programMetadata"),t.addVariant(16,_n([]),"realmV2"),t.addVariant(17,_n([]),"tokenOwnerRecordV2"),t.addVariant(18,_n([]),"governanceV2"),t.addVariant(19,_n([]),"programGovernanceV2"),t.addVariant(20,_n([]),"mintGovernanceV2"),t.addVariant(21,_n([]),"tokenGovernanceV2"),t.addVariant(22,_n([]),"signatoryRecordV2"),t})(),tr("proposal"),tr("signatory"),er("signedOff"),On(Mn(),8,"reservedV2")]),vr=_n([(e=>{const t=Cn(Mn("discriminator"),null,"accountType");return t.addVariant(0,_n([]),"uninitialized"),t.addVariant(1,_n([]),"realmV1"),t.addVariant(2,_n([]),"tokenOwnerRecordV1"),t.addVariant(3,_n([]),"governanceV1"),t.addVariant(4,_n([]),"programGovernanceV1"),t.addVariant(5,_n([]),"proposalV1"),t.addVariant(6,_n([]),"signatoryRecordV1"),t.addVariant(7,_n([]),"voteRecordV1"),t.addVariant(8,_n([]),"proposalInstructionV1"),t.addVariant(9,_n([]),"mintGovernanceV1"),t.addVariant(10,_n([]),"tokenGovernanceV1"),t.addVariant(11,_n([]),"realmConfig"),t.addVariant(12,_n([]),"voteRecordV2"),t.addVariant(13,_n([]),"proposalTransactionV2"),t.addVariant(14,_n([]),"proposalV2"),t.addVariant(15,_n([]),"programMetadata"),t.addVariant(16,_n([]),"realmV2"),t.addVariant(17,_n([]),"tokenOwnerRecordV2"),t.addVariant(18,_n([]),"governanceV2"),t.addVariant(19,_n([]),"programGovernanceV2"),t.addVariant(20,_n([]),"mintGovernanceV2"),t.addVariant(21,_n([]),"tokenGovernanceV2"),t.addVariant(22,_n([]),"signatoryRecordV2"),t})(),tr("communityMint"),_n([er("useCommunityVoterWeightAddin"),er("useMaxCommunityVoterWeightAddin"),On(Mn(),6,"reserved"),nr("minCommunityWeightToCreateGovernance"),(e=>{const t=Cn(Mn("discriminator"),null,"communityMintMaxVoteWeightSource");return t.addVariant(0,nr(),"supplyFraction"),t.addVariant(1,nr(),"absolute"),t})(),or(tr(),"councilMint")],"config"),On(Mn(),6,"reserved"),Pn("votingProposalCount"),or(tr(),"authority"),lr("name")]),Vr=_n([(e=>{const t=Cn(Mn("discriminator"),null,"accountType");return t.addVariant(0,_n([]),"uninitialized"),t.addVariant(1,_n([]),"realmV1"),t.addVariant(2,_n([]),"tokenOwnerRecordV1"),t.addVariant(3,_n([]),"governanceV1"),t.addVariant(4,_n([]),"programGovernanceV1"),t.addVariant(5,_n([]),"proposalV1"),t.addVariant(6,_n([]),"signatoryRecordV1"),t.addVariant(7,_n([]),"voteRecordV1"),t.addVariant(8,_n([]),"proposalInstructionV1"),t.addVariant(9,_n([]),"mintGovernanceV1"),t.addVariant(10,_n([]),"tokenGovernanceV1"),t.addVariant(11,_n([]),"realmConfig"),t.addVariant(12,_n([]),"voteRecordV2"),t.addVariant(13,_n([]),"proposalTransactionV2"),t.addVariant(14,_n([]),"proposalV2"),t.addVariant(15,_n([]),"programMetadata"),t.addVariant(16,_n([]),"realmV2"),t.addVariant(17,_n([]),"tokenOwnerRecordV2"),t.addVariant(18,_n([]),"governanceV2"),t.addVariant(19,_n([]),"programGovernanceV2"),t.addVariant(20,_n([]),"mintGovernanceV2"),t.addVariant(21,_n([]),"tokenGovernanceV2"),t.addVariant(22,_n([]),"signatoryRecordV2"),t})(),tr("realm"),tr("governingTokenMint"),tr("governingTokenOwner"),nr("governingTokenDepositAmount"),Rn("unrelinquishedVotesCount"),Rn("totalVotesCount"),Mn("outstandingProposalCount"),On(Mn(),7,"reserved"),or(tr(),"governanceDelegate")]),wr=_n([(e=>{const t=Cn(Mn("discriminator"),null,"accountType");return t.addVariant(0,_n([]),"uninitialized"),t.addVariant(1,_n([]),"realmV1"),t.addVariant(2,_n([]),"tokenOwnerRecordV1"),t.addVariant(3,_n([]),"governanceV1"),t.addVariant(4,_n([]),"programGovernanceV1"),t.addVariant(5,_n([]),"proposalV1"),t.addVariant(6,_n([]),"signatoryRecordV1"),t.addVariant(7,_n([]),"voteRecordV1"),t.addVariant(8,_n([]),"proposalInstructionV1"),t.addVariant(9,_n([]),"mintGovernanceV1"),t.addVariant(10,_n([]),"tokenGovernanceV1"),t.addVariant(11,_n([]),"realmConfig"),t.addVariant(12,_n([]),"voteRecordV2"),t.addVariant(13,_n([]),"proposalTransactionV2"),t.addVariant(14,_n([]),"proposalV2"),t.addVariant(15,_n([]),"programMetadata"),t.addVariant(16,_n([]),"realmV2"),t.addVariant(17,_n([]),"tokenOwnerRecordV2"),t.addVariant(18,_n([]),"governanceV2"),t.addVariant(19,_n([]),"programGovernanceV2"),t.addVariant(20,_n([]),"mintGovernanceV2"),t.addVariant(21,_n([]),"tokenGovernanceV2"),t.addVariant(22,_n([]),"signatoryRecordV2"),t})(),tr("realm"),tr("governedAccount"),Rn("proposalsCount"),_n([(e=>{const t=Cn(Mn("discriminator"),null,"communityVoteThreshold");return t.addVariant(0,Mn(),"yesVotePercentage"),t.addVariant(1,Mn(),"quorumPercentage"),t.addVariant(2,_n([]),"disabled"),t})(),nr("minCommunityWeightToCreateProposal"),Rn("minTransactionHoldUpTime"),Rn("maxVotingTime"),(e=>{const t=Cn(Mn("discriminator"),null,"voteTipping");return t.addVariant(0,_n([]),"strict"),t.addVariant(1,_n([]),"early"),t.addVariant(2,_n([]),"disabled"),t})(),(e=>{const t=Cn(Mn("discriminator"),null,"councilVoteThreshold");return t.addVariant(0,Mn(),"yesVotePercentage"),t.addVariant(1,Mn(),"quorumPercentage"),t.addVariant(2,_n([]),"disabled"),t})(),(e=>{const t=Cn(Mn("discriminator"),null,"councilVetoVoteThreshold");return t.addVariant(0,Mn(),"yesVotePercentage"),t.addVariant(1,Mn(),"quorumPercentage"),t.addVariant(2,_n([]),"disabled"),t})(),nr("minCouncilWeightToCreateProposal")],"config"),On(Mn(),6,"reserved"),Pn("votingProposalCount")]),br=_n([(e=>{const t=Cn(Mn("discriminator"),null,"accountType");return t.addVariant(0,_n([]),"uninitialized"),t.addVariant(1,_n([]),"realmV1"),t.addVariant(2,_n([]),"tokenOwnerRecordV1"),t.addVariant(3,_n([]),"governanceV1"),t.addVariant(4,_n([]),"programGovernanceV1"),t.addVariant(5,_n([]),"proposalV1"),t.addVariant(6,_n([]),"signatoryRecordV1"),t.addVariant(7,_n([]),"voteRecordV1"),t.addVariant(8,_n([]),"proposalInstructionV1"),t.addVariant(9,_n([]),"mintGovernanceV1"),t.addVariant(10,_n([]),"tokenGovernanceV1"),t.addVariant(11,_n([]),"realmConfig"),t.addVariant(12,_n([]),"voteRecordV2"),t.addVariant(13,_n([]),"proposalTransactionV2"),t.addVariant(14,_n([]),"proposalV2"),t.addVariant(15,_n([]),"programMetadata"),t.addVariant(16,_n([]),"realmV2"),t.addVariant(17,_n([]),"tokenOwnerRecordV2"),t.addVariant(18,_n([]),"governanceV2"),t.addVariant(19,_n([]),"programGovernanceV2"),t.addVariant(20,_n([]),"mintGovernanceV2"),t.addVariant(21,_n([]),"tokenGovernanceV2"),t.addVariant(22,_n([]),"signatoryRecordV2"),t})(),tr("governance"),tr("governingTokenMint"),(e=>{const t=Cn(Mn("discriminator"),null,"state");return t.addVariant(0,_n([]),"draft"),t.addVariant(1,_n([]),"signingOff"),t.addVariant(2,_n([]),"voting"),t.addVariant(3,_n([]),"succeeded"),t.addVariant(4,_n([]),"executing"),t.addVariant(5,_n([]),"completed"),t.addVariant(6,_n([]),"cancelled"),t.addVariant(7,_n([]),"defeated"),t.addVariant(8,_n([]),"executingWithErrors"),t.addVariant(9,_n([]),"vetoed"),t})(),tr("tokenOwnerRecord"),Mn("signatoriesCount"),Mn("signatoriesSignedOffCount"),nr("yesVotesCount"),nr("noVotesCount"),Pn("instructionsExecutedCount"),Pn("instructionsCount"),Pn("instructionsNextIndex"),rr("draftAt"),or(rr(),"signingOffAt"),or(rr(),"votingAt"),or(nr(),"votingAtSlot"),or(rr(),"votingCompletedAt"),or(rr(),"executingAt"),or(rr(),"closedAt"),(e=>{const t=Cn(Mn("discriminator"),null,"executionFlags");return t.addVariant(0,_n([]),"none"),t.addVariant(1,_n([]),"ordered"),t.addVariant(2,_n([]),"useTransaction"),t})(),or(nr(),"maxVoteWeight"),or((e=>{const t=Cn(Mn("discriminator"),null,void 0);return t.addVariant(0,Mn(),"yesVotePercentage"),t.addVariant(1,Mn(),"quorumPercentage"),t.addVariant(2,_n([]),"disabled"),t})(),"voteThreshold"),lr("name"),lr("descriptionLink")]),Tr=_n([(e=>{const t=Cn(Mn("discriminator"),null,"accountType");return t.addVariant(0,_n([]),"uninitialized"),t.addVariant(1,_n([]),"realmV1"),t.addVariant(2,_n([]),"tokenOwnerRecordV1"),t.addVariant(3,_n([]),"governanceV1"),t.addVariant(4,_n([]),"programGovernanceV1"),t.addVariant(5,_n([]),"proposalV1"),t.addVariant(6,_n([]),"signatoryRecordV1"),t.addVariant(7,_n([]),"voteRecordV1"),t.addVariant(8,_n([]),"proposalInstructionV1"),t.addVariant(9,_n([]),"mintGovernanceV1"),t.addVariant(10,_n([]),"tokenGovernanceV1"),t.addVariant(11,_n([]),"realmConfig"),t.addVariant(12,_n([]),"voteRecordV2"),t.addVariant(13,_n([]),"proposalTransactionV2"),t.addVariant(14,_n([]),"proposalV2"),t.addVariant(15,_n([]),"programMetadata"),t.addVariant(16,_n([]),"realmV2"),t.addVariant(17,_n([]),"tokenOwnerRecordV2"),t.addVariant(18,_n([]),"governanceV2"),t.addVariant(19,_n([]),"programGovernanceV2"),t.addVariant(20,_n([]),"mintGovernanceV2"),t.addVariant(21,_n([]),"tokenGovernanceV2"),t.addVariant(22,_n([]),"signatoryRecordV2"),t})(),tr("proposal"),tr("signatory"),er("signedOff")]),Ar=_n([(e=>{const t=Cn(Mn("discriminator"),null,"accountType");return t.addVariant(0,_n([]),"uninitialized"),t.addVariant(1,_n([]),"realmV1"),t.addVariant(2,_n([]),"tokenOwnerRecordV1"),t.addVariant(3,_n([]),"governanceV1"),t.addVariant(4,_n([]),"programGovernanceV1"),t.addVariant(5,_n([]),"proposalV1"),t.addVariant(6,_n([]),"signatoryRecordV1"),t.addVariant(7,_n([]),"voteRecordV1"),t.addVariant(8,_n([]),"proposalInstructionV1"),t.addVariant(9,_n([]),"mintGovernanceV1"),t.addVariant(10,_n([]),"tokenGovernanceV1"),t.addVariant(11,_n([]),"realmConfig"),t.addVariant(12,_n([]),"voteRecordV2"),t.addVariant(13,_n([]),"proposalTransactionV2"),t.addVariant(14,_n([]),"proposalV2"),t.addVariant(15,_n([]),"programMetadata"),t.addVariant(16,_n([]),"realmV2"),t.addVariant(17,_n([]),"tokenOwnerRecordV2"),t.addVariant(18,_n([]),"governanceV2"),t.addVariant(19,_n([]),"programGovernanceV2"),t.addVariant(20,_n([]),"mintGovernanceV2"),t.addVariant(21,_n([]),"tokenGovernanceV2"),t.addVariant(22,_n([]),"signatoryRecordV2"),t})(),tr("proposal"),tr("governingTokenOwner"),er("isRelinquished"),(e=>{const t=Cn(Mn("discriminator"),null,"voteWeight");return t.addVariant(0,nr(),"yes"),t.addVariant(1,nr(),"no"),t})()]),Sr=_n([(e=>{const t=Cn(Mn("discriminator"),null,"accountType");return t.addVariant(0,_n([]),"uninitialized"),t.addVariant(1,_n([]),"realmV1"),t.addVariant(2,_n([]),"tokenOwnerRecordV1"),t.addVariant(3,_n([]),"governanceV1"),t.addVariant(4,_n([]),"programGovernanceV1"),t.addVariant(5,_n([]),"proposalV1"),t.addVariant(6,_n([]),"signatoryRecordV1"),t.addVariant(7,_n([]),"voteRecordV1"),t.addVariant(8,_n([]),"proposalInstructionV1"),t.addVariant(9,_n([]),"mintGovernanceV1"),t.addVariant(10,_n([]),"tokenGovernanceV1"),t.addVariant(11,_n([]),"realmConfig"),t.addVariant(12,_n([]),"voteRecordV2"),t.addVariant(13,_n([]),"proposalTransactionV2"),t.addVariant(14,_n([]),"proposalV2"),t.addVariant(15,_n([]),"programMetadata"),t.addVariant(16,_n([]),"realmV2"),t.addVariant(17,_n([]),"tokenOwnerRecordV2"),t.addVariant(18,_n([]),"governanceV2"),t.addVariant(19,_n([]),"programGovernanceV2"),t.addVariant(20,_n([]),"mintGovernanceV2"),t.addVariant(21,_n([]),"tokenGovernanceV2"),t.addVariant(22,_n([]),"signatoryRecordV2"),t})(),tr("realm"),tr("governedAccount"),Rn("proposalsCount"),_n([(e=>{const t=Cn(Mn("discriminator"),null,"communityVoteThreshold");return t.addVariant(0,Mn(),"yesVotePercentage"),t.addVariant(1,Mn(),"quorumPercentage"),t.addVariant(2,_n([]),"disabled"),t})(),nr("minCommunityWeightToCreateProposal"),Rn("minTransactionHoldUpTime"),Rn("maxVotingTime"),(e=>{const t=Cn(Mn("discriminator"),null,"voteTipping");return t.addVariant(0,_n([]),"strict"),t.addVariant(1,_n([]),"early"),t.addVariant(2,_n([]),"disabled"),t})(),(e=>{const t=Cn(Mn("discriminator"),null,"councilVoteThreshold");return t.addVariant(0,Mn(),"yesVotePercentage"),t.addVariant(1,Mn(),"quorumPercentage"),t.addVariant(2,_n([]),"disabled"),t})(),(e=>{const t=Cn(Mn("discriminator"),null,"councilVetoVoteThreshold");return t.addVariant(0,Mn(),"yesVotePercentage"),t.addVariant(1,Mn(),"quorumPercentage"),t.addVariant(2,_n([]),"disabled"),t})(),nr("minCouncilWeightToCreateProposal")],"config"),On(Mn(),6,"reserved"),Pn("votingProposalCount"),On(Mn(),128,"reservedV2")]),kr=_n([(e=>{const t=Cn(Mn("discriminator"),null,"accountType");return t.addVariant(0,_n([]),"uninitialized"),t.addVariant(1,_n([]),"realmV1"),t.addVariant(2,_n([]),"tokenOwnerRecordV1"),t.addVariant(3,_n([]),"governanceV1"),t.addVariant(4,_n([]),"programGovernanceV1"),t.addVariant(5,_n([]),"proposalV1"),t.addVariant(6,_n([]),"signatoryRecordV1"),t.addVariant(7,_n([]),"voteRecordV1"),t.addVariant(8,_n([]),"proposalInstructionV1"),t.addVariant(9,_n([]),"mintGovernanceV1"),t.addVariant(10,_n([]),"tokenGovernanceV1"),t.addVariant(11,_n([]),"realmConfig"),t.addVariant(12,_n([]),"voteRecordV2"),t.addVariant(13,_n([]),"proposalTransactionV2"),t.addVariant(14,_n([]),"proposalV2"),t.addVariant(15,_n([]),"programMetadata"),t.addVariant(16,_n([]),"realmV2"),t.addVariant(17,_n([]),"tokenOwnerRecordV2"),t.addVariant(18,_n([]),"governanceV2"),t.addVariant(19,_n([]),"programGovernanceV2"),t.addVariant(20,_n([]),"mintGovernanceV2"),t.addVariant(21,_n([]),"tokenGovernanceV2"),t.addVariant(22,_n([]),"signatoryRecordV2"),t})(),tr("proposal"),tr("governingTokenOwner"),er("isRelinquished"),nr("voterWeight"),(e=>{const t=Cn(Mn("discriminator"),null,"vote");return t.addVariant(0,sr(_n([Mn("rank"),Mn("weightPercentage")])),"approve"),t.addVariant(1,_n([]),"deny"),t.addVariant(2,_n([]),"abstain"),t.addVariant(3,_n([]),"veto"),t})(),On(Mn(),8,"reservedV2")]),Er=_n([(e=>{const t=Cn(Mn("discriminator"),null,"accountType");return t.addVariant(0,_n([]),"uninitialized"),t.addVariant(1,_n([]),"realmV1"),t.addVariant(2,_n([]),"tokenOwnerRecordV1"),t.addVariant(3,_n([]),"governanceV1"),t.addVariant(4,_n([]),"programGovernanceV1"),t.addVariant(5,_n([]),"proposalV1"),t.addVariant(6,_n([]),"signatoryRecordV1"),t.addVariant(7,_n([]),"voteRecordV1"),t.addVariant(8,_n([]),"proposalInstructionV1"),t.addVariant(9,_n([]),"mintGovernanceV1"),t.addVariant(10,_n([]),"tokenGovernanceV1"),t.addVariant(11,_n([]),"realmConfig"),t.addVariant(12,_n([]),"voteRecordV2"),t.addVariant(13,_n([]),"proposalTransactionV2"),t.addVariant(14,_n([]),"proposalV2"),t.addVariant(15,_n([]),"programMetadata"),t.addVariant(16,_n([]),"realmV2"),t.addVariant(17,_n([]),"tokenOwnerRecordV2"),t.addVariant(18,_n([]),"governanceV2"),t.addVariant(19,_n([]),"programGovernanceV2"),t.addVariant(20,_n([]),"mintGovernanceV2"),t.addVariant(21,_n([]),"tokenGovernanceV2"),t.addVariant(22,_n([]),"signatoryRecordV2"),t})(),tr("realm"),tr("governingTokenMint"),tr("governingTokenOwner"),nr("governingTokenDepositAmount"),Rn("unrelinquishedVotesCount"),Rn("totalVotesCount"),Mn("outstandingProposalCount"),On(Mn(),7,"reserved"),or(tr(),"governanceDelegate"),On(Mn(),128,"reservedV2")]),xr=_n([(e=>{const t=Cn(Mn("discriminator"),null,"accountType");return t.addVariant(0,_n([]),"uninitialized"),t.addVariant(1,_n([]),"realmV1"),t.addVariant(2,_n([]),"tokenOwnerRecordV1"),t.addVariant(3,_n([]),"governanceV1"),t.addVariant(4,_n([]),"programGovernanceV1"),t.addVariant(5,_n([]),"proposalV1"),t.addVariant(6,_n([]),"signatoryRecordV1"),t.addVariant(7,_n([]),"voteRecordV1"),t.addVariant(8,_n([]),"proposalInstructionV1"),t.addVariant(9,_n([]),"mintGovernanceV1"),t.addVariant(10,_n([]),"tokenGovernanceV1"),t.addVariant(11,_n([]),"realmConfig"),t.addVariant(12,_n([]),"voteRecordV2"),t.addVariant(13,_n([]),"proposalTransactionV2"),t.addVariant(14,_n([]),"proposalV2"),t.addVariant(15,_n([]),"programMetadata"),t.addVariant(16,_n([]),"realmV2"),t.addVariant(17,_n([]),"tokenOwnerRecordV2"),t.addVariant(18,_n([]),"governanceV2"),t.addVariant(19,_n([]),"programGovernanceV2"),t.addVariant(20,_n([]),"mintGovernanceV2"),t.addVariant(21,_n([]),"tokenGovernanceV2"),t.addVariant(22,_n([]),"signatoryRecordV2"),t})(),tr("realm"),or(tr(),"communityVoterWeightAddin"),or(tr(),"maxCommunityVoterWeightAddin"),or(tr(),"councilVoterWeightAddin"),or(tr(),"councilMaxVoteWeightAddin"),On(Mn(),128,"reserved")]),Ir=_n([(e=>{const t=Cn(Mn("discriminator"),null,"accountType");return t.addVariant(0,_n([]),"uninitialized"),t.addVariant(1,_n([]),"realmV1"),t.addVariant(2,_n([]),"tokenOwnerRecordV1"),t.addVariant(3,_n([]),"governanceV1"),t.addVariant(4,_n([]),"programGovernanceV1"),t.addVariant(5,_n([]),"proposalV1"),t.addVariant(6,_n([]),"signatoryRecordV1"),t.addVariant(7,_n([]),"voteRecordV1"),t.addVariant(8,_n([]),"proposalInstructionV1"),t.addVariant(9,_n([]),"mintGovernanceV1"),t.addVariant(10,_n([]),"tokenGovernanceV1"),t.addVariant(11,_n([]),"realmConfig"),t.addVariant(12,_n([]),"voteRecordV2"),t.addVariant(13,_n([]),"proposalTransactionV2"),t.addVariant(14,_n([]),"proposalV2"),t.addVariant(15,_n([]),"programMetadata"),t.addVariant(16,_n([]),"realmV2"),t.addVariant(17,_n([]),"tokenOwnerRecordV2"),t.addVariant(18,_n([]),"governanceV2"),t.addVariant(19,_n([]),"programGovernanceV2"),t.addVariant(20,_n([]),"mintGovernanceV2"),t.addVariant(21,_n([]),"tokenGovernanceV2"),t.addVariant(22,_n([]),"signatoryRecordV2"),t})(),tr("proposal"),Mn("optionIndex"),Pn("transactionIndex"),Rn("holdUpTime"),sr(_n([tr("programId"),sr(_n([tr("pubkey"),er("isSigner"),er("isWritable")]),"accounts"),dr("data")]),"instructions"),or(rr(),"executedAt"),(e=>{const t=Cn(Mn("discriminator"),null,"executionStatus");return t.addVariant(0,_n([]),"none"),t.addVariant(1,_n([]),"success"),t.addVariant(2,_n([]),"error"),t})(),On(Mn(),8,"reservedV2")]);class Mr{constructor(e){}decode(e){throw new Error("SplGovernance program does not have events")}}class Pr{constructor(e){}encode(e,t){switch(e){case"createRealm":return function({name:e,configArgs:t}){return _r({createRealm:{name:e,configArgs:t}},5+e.length+1+8+(()=>{switch(Object.keys(t.communityMintMaxVoteWeightSource)[0]){case"supplyFraction":case"absolute":return 9}})()+1+1)}(t);case"depositGoverningTokens":return function({amount:e}){return _r({depositGoverningTokens:{amount:e}},9)}(t);case"withdrawGoverningTokens":return function({}){return _r({withdrawGoverningTokens:{}},1)}(t);case"setGovernanceDelegate":return function({newGovernanceDelegate:e}){return _r({setGovernanceDelegate:{newGovernanceDelegate:e}},2+(null===e?0:32))}(t);case"createGovernance":return function({config:e}){return _r({createGovernance:{config:e}},1+(()=>{switch(Object.keys(e.communityVoteThreshold)[0]){case"yesVotePercentage":case"quorumPercentage":return 2;case"disabled":return 1}})()+8+4+4+(()=>{switch(Object.keys(e.voteTipping)[0]){case"strict":case"early":case"disabled":return 1}})()+(()=>{switch(Object.keys(e.councilVoteThreshold)[0]){case"yesVotePercentage":case"quorumPercentage":return 2;case"disabled":return 1}})()+(()=>{switch(Object.keys(e.councilVetoVoteThreshold)[0]){case"yesVotePercentage":case"quorumPercentage":return 2;case"disabled":return 1}})()+8)}(t);case"createProgramGovernance":return function({config:e,transferUpgradeAuthority:t}){return _r({createProgramGovernance:{config:e,transferUpgradeAuthority:t}},1+(()=>{switch(Object.keys(e.communityVoteThreshold)[0]){case"yesVotePercentage":case"quorumPercentage":return 2;case"disabled":return 1}})()+8+4+4+(()=>{switch(Object.keys(e.voteTipping)[0]){case"strict":case"early":case"disabled":return 1}})()+(()=>{switch(Object.keys(e.councilVoteThreshold)[0]){case"yesVotePercentage":case"quorumPercentage":return 2;case"disabled":return 1}})()+(()=>{switch(Object.keys(e.councilVetoVoteThreshold)[0]){case"yesVotePercentage":case"quorumPercentage":return 2;case"disabled":return 1}})()+8+1)}(t);case"createProposal":return function({name:e,descriptionLink:t,voteType:n,options:r,useDenyOption:a}){return _r({createProposal:{name:e,descriptionLink:t,voteType:n,options:r,useDenyOption:a}},5+e.length+4+t.length+(()=>{switch(Object.keys(n)[0]){case"singleChoice":return 1;case"multiChoice":return 3}})()+4+r.reduce(((e,t)=>e+4+t.length),0)+1)}(t);case"addSignatory":return function({signatory:e}){return _r({addSignatory:{signatory:e}},33)}(t);case"removeSignatory":return function({signatory:e}){return _r({removeSignatory:{signatory:e}},33)}(t);case"insertTransaction":return function({optionIndex:e,index:t,holdUpTime:n,instructions:r}){return _r({insertTransaction:{optionIndex:e,index:t,holdUpTime:n,instructions:r}},12+r.reduce(((e,t)=>e+32+4+34*t.accounts.length+4+t.data.length),0))}(t);case"removeTransaction":return function({}){return _r({removeTransaction:{}},1)}(t);case"cancelProposal":return function({}){return _r({cancelProposal:{}},1)}(t);case"signOffProposal":return function({}){return _r({signOffProposal:{}},1)}(t);case"castVote":return function({vote:e}){return _r({castVote:{vote:e}},1+(()=>{switch(Object.keys(e)[0]){case"approve":return 5+2*e.length;case"deny":case"abstain":case"veto":return 1}})())}(t);case"finalizeVote":return function({}){return _r({finalizeVote:{}},1)}(t);case"relinquishVote":return function({}){return _r({relinquishVote:{}},1)}(t);case"executeTransaction":return function({}){return _r({executeTransaction:{}},1)}(t);case"createMintGovernance":return function({config:e,transferMintAuthorities:t}){return _r({createMintGovernance:{config:e,transferMintAuthorities:t}},1+(()=>{switch(Object.keys(e.communityVoteThreshold)[0]){case"yesVotePercentage":case"quorumPercentage":return 2;case"disabled":return 1}})()+8+4+4+(()=>{switch(Object.keys(e.voteTipping)[0]){case"strict":case"early":case"disabled":return 1}})()+(()=>{switch(Object.keys(e.councilVoteThreshold)[0]){case"yesVotePercentage":case"quorumPercentage":return 2;case"disabled":return 1}})()+(()=>{switch(Object.keys(e.councilVetoVoteThreshold)[0]){case"yesVotePercentage":case"quorumPercentage":return 2;case"disabled":return 1}})()+8+1)}(t);case"createTokenGovernance":return function({config:e,transferAccountAuthorities:t}){return _r({createTokenGovernance:{config:e,transferAccountAuthorities:t}},1+(()=>{switch(Object.keys(e.communityVoteThreshold)[0]){case"yesVotePercentage":case"quorumPercentage":return 2;case"disabled":return 1}})()+8+4+4+(()=>{switch(Object.keys(e.voteTipping)[0]){case"strict":case"early":case"disabled":return 1}})()+(()=>{switch(Object.keys(e.councilVoteThreshold)[0]){case"yesVotePercentage":case"quorumPercentage":return 2;case"disabled":return 1}})()+(()=>{switch(Object.keys(e.councilVetoVoteThreshold)[0]){case"yesVotePercentage":case"quorumPercentage":return 2;case"disabled":return 1}})()+8+1)}(t);case"setGovernanceConfig":return function({config:e}){return _r({setGovernanceConfig:{config:e}},1+(()=>{switch(Object.keys(e.communityVoteThreshold)[0]){case"yesVotePercentage":case"quorumPercentage":return 2;case"disabled":return 1}})()+8+4+4+(()=>{switch(Object.keys(e.voteTipping)[0]){case"strict":case"early":case"disabled":return 1}})()+(()=>{switch(Object.keys(e.councilVoteThreshold)[0]){case"yesVotePercentage":case"quorumPercentage":return 2;case"disabled":return 1}})()+(()=>{switch(Object.keys(e.councilVetoVoteThreshold)[0]){case"yesVotePercentage":case"quorumPercentage":return 2;case"disabled":return 1}})()+8)}(t);case"flagTransactionError":return function({}){return _r({flagTransactionError:{}},1)}(t);case"setRealmAuthority":return function({action:e}){return _r({setRealmAuthority:{action:e}},1+(()=>{switch(Object.keys(e)[0]){case"setUnchecked":case"setChecked":case"remove":return 1}})())}(t);case"setRealmConfig":return function({configArgs:e}){return _r({setRealmConfig:{configArgs:e}},10+(()=>{switch(Object.keys(e.communityMintMaxVoteWeightSource)[0]){case"supplyFraction":case"absolute":return 9}})()+1+1)}(t);case"createTokenOwnerRecord":return function({}){return _r({createTokenOwnerRecord:{}},1)}(t);case"updateProgramMetadata":return function({}){return _r({updateProgramMetadata:{}},1)}(t);case"createNativeTreasury":return function({}){return _r({createNativeTreasury:{}},1)}(t);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,t){throw new Error("SplGovernance does not have state")}}const Rr=Cn(Mn("instruction"));function _r(e,t){const n=Buffer.alloc(t);return Rr.encode(e,n),n}Rr.addVariant(0,_n([lr("name"),_n([er("useCouncilMint"),nr("minCommunityWeightToCreateGovernance"),(e=>{const t=Cn(Mn("discriminator"),null,"communityMintMaxVoteWeightSource");return t.addVariant(0,nr(),"supplyFraction"),t.addVariant(1,nr(),"absolute"),t})(),er("useCommunityVoterWeightAddin"),er("useMaxCommunityVoterWeightAddin")],"configArgs")]),"createRealm"),Rr.addVariant(1,_n([nr("amount")]),"depositGoverningTokens"),Rr.addVariant(2,_n([]),"withdrawGoverningTokens"),Rr.addVariant(3,_n([or(tr(),"newGovernanceDelegate")]),"setGovernanceDelegate"),Rr.addVariant(4,_n([_n([(e=>{const t=Cn(Mn("discriminator"),null,"communityVoteThreshold");return t.addVariant(0,Mn(),"yesVotePercentage"),t.addVariant(1,Mn(),"quorumPercentage"),t.addVariant(2,_n([]),"disabled"),t})(),nr("minCommunityWeightToCreateProposal"),Rn("minTransactionHoldUpTime"),Rn("maxVotingTime"),(e=>{const t=Cn(Mn("discriminator"),null,"voteTipping");return t.addVariant(0,_n([]),"strict"),t.addVariant(1,_n([]),"early"),t.addVariant(2,_n([]),"disabled"),t})(),(e=>{const t=Cn(Mn("discriminator"),null,"councilVoteThreshold");return t.addVariant(0,Mn(),"yesVotePercentage"),t.addVariant(1,Mn(),"quorumPercentage"),t.addVariant(2,_n([]),"disabled"),t})(),(e=>{const t=Cn(Mn("discriminator"),null,"councilVetoVoteThreshold");return t.addVariant(0,Mn(),"yesVotePercentage"),t.addVariant(1,Mn(),"quorumPercentage"),t.addVariant(2,_n([]),"disabled"),t})(),nr("minCouncilWeightToCreateProposal")],"config")]),"createGovernance"),Rr.addVariant(5,_n([_n([(e=>{const t=Cn(Mn("discriminator"),null,"communityVoteThreshold");return t.addVariant(0,Mn(),"yesVotePercentage"),t.addVariant(1,Mn(),"quorumPercentage"),t.addVariant(2,_n([]),"disabled"),t})(),nr("minCommunityWeightToCreateProposal"),Rn("minTransactionHoldUpTime"),Rn("maxVotingTime"),(e=>{const t=Cn(Mn("discriminator"),null,"voteTipping");return t.addVariant(0,_n([]),"strict"),t.addVariant(1,_n([]),"early"),t.addVariant(2,_n([]),"disabled"),t})(),(e=>{const t=Cn(Mn("discriminator"),null,"councilVoteThreshold");return t.addVariant(0,Mn(),"yesVotePercentage"),t.addVariant(1,Mn(),"quorumPercentage"),t.addVariant(2,_n([]),"disabled"),t})(),(e=>{const t=Cn(Mn("discriminator"),null,"councilVetoVoteThreshold");return t.addVariant(0,Mn(),"yesVotePercentage"),t.addVariant(1,Mn(),"quorumPercentage"),t.addVariant(2,_n([]),"disabled"),t})(),nr("minCouncilWeightToCreateProposal")],"config"),er("transferUpgradeAuthority")]),"createProgramGovernance"),Rr.addVariant(6,_n([lr("name"),lr("descriptionLink"),(e=>{const t=Cn(Mn("discriminator"),null,"voteType");return t.addVariant(0,_n([]),"singleChoice"),t.addVariant(1,_n([Mn("maxVoterOptions"),Mn("maxWinningOptions")]),"multiChoice"),t})(),sr(lr(),"options"),er("useDenyOption")]),"createProposal"),Rr.addVariant(7,_n([tr("signatory")]),"addSignatory"),Rr.addVariant(8,_n([tr("signatory")]),"removeSignatory"),Rr.addVariant(9,_n([Mn("optionIndex"),Pn("index"),Rn("holdUpTime"),sr(_n([tr("programId"),sr(_n([tr("pubkey"),er("isSigner"),er("isWritable")]),"accounts"),dr("data")]),"instructions")]),"insertTransaction"),Rr.addVariant(10,_n([]),"removeTransaction"),Rr.addVariant(11,_n([]),"cancelProposal"),Rr.addVariant(12,_n([]),"signOffProposal"),Rr.addVariant(13,_n([(e=>{const t=Cn(Mn("discriminator"),null,"vote");return t.addVariant(0,sr(_n([Mn("rank"),Mn("weightPercentage")])),"approve"),t.addVariant(1,_n([]),"deny"),t.addVariant(2,_n([]),"abstain"),t.addVariant(3,_n([]),"veto"),t})()]),"castVote"),Rr.addVariant(14,_n([]),"finalizeVote"),Rr.addVariant(15,_n([]),"relinquishVote"),Rr.addVariant(16,_n([]),"executeTransaction"),Rr.addVariant(17,_n([_n([(e=>{const t=Cn(Mn("discriminator"),null,"communityVoteThreshold");return t.addVariant(0,Mn(),"yesVotePercentage"),t.addVariant(1,Mn(),"quorumPercentage"),t.addVariant(2,_n([]),"disabled"),t})(),nr("minCommunityWeightToCreateProposal"),Rn("minTransactionHoldUpTime"),Rn("maxVotingTime"),(e=>{const t=Cn(Mn("discriminator"),null,"voteTipping");return t.addVariant(0,_n([]),"strict"),t.addVariant(1,_n([]),"early"),t.addVariant(2,_n([]),"disabled"),t})(),(e=>{const t=Cn(Mn("discriminator"),null,"councilVoteThreshold");return t.addVariant(0,Mn(),"yesVotePercentage"),t.addVariant(1,Mn(),"quorumPercentage"),t.addVariant(2,_n([]),"disabled"),t})(),(e=>{const t=Cn(Mn("discriminator"),null,"councilVetoVoteThreshold");return t.addVariant(0,Mn(),"yesVotePercentage"),t.addVariant(1,Mn(),"quorumPercentage"),t.addVariant(2,_n([]),"disabled"),t})(),nr("minCouncilWeightToCreateProposal")],"config"),er("transferMintAuthorities")]),"createMintGovernance"),Rr.addVariant(18,_n([_n([(e=>{const t=Cn(Mn("discriminator"),null,"communityVoteThreshold");return t.addVariant(0,Mn(),"yesVotePercentage"),t.addVariant(1,Mn(),"quorumPercentage"),t.addVariant(2,_n([]),"disabled"),t})(),nr("minCommunityWeightToCreateProposal"),Rn("minTransactionHoldUpTime"),Rn("maxVotingTime"),(e=>{const t=Cn(Mn("discriminator"),null,"voteTipping");return t.addVariant(0,_n([]),"strict"),t.addVariant(1,_n([]),"early"),t.addVariant(2,_n([]),"disabled"),t})(),(e=>{const t=Cn(Mn("discriminator"),null,"councilVoteThreshold");return t.addVariant(0,Mn(),"yesVotePercentage"),t.addVariant(1,Mn(),"quorumPercentage"),t.addVariant(2,_n([]),"disabled"),t})(),(e=>{const t=Cn(Mn("discriminator"),null,"councilVetoVoteThreshold");return t.addVariant(0,Mn(),"yesVotePercentage"),t.addVariant(1,Mn(),"quorumPercentage"),t.addVariant(2,_n([]),"disabled"),t})(),nr("minCouncilWeightToCreateProposal")],"config"),er("transferAccountAuthorities")]),"createTokenGovernance"),Rr.addVariant(19,_n([_n([(e=>{const t=Cn(Mn("discriminator"),null,"communityVoteThreshold");return t.addVariant(0,Mn(),"yesVotePercentage"),t.addVariant(1,Mn(),"quorumPercentage"),t.addVariant(2,_n([]),"disabled"),t})(),nr("minCommunityWeightToCreateProposal"),Rn("minTransactionHoldUpTime"),Rn("maxVotingTime"),(e=>{const t=Cn(Mn("discriminator"),null,"voteTipping");return t.addVariant(0,_n([]),"strict"),t.addVariant(1,_n([]),"early"),t.addVariant(2,_n([]),"disabled"),t})(),(e=>{const t=Cn(Mn("discriminator"),null,"councilVoteThreshold");return t.addVariant(0,Mn(),"yesVotePercentage"),t.addVariant(1,Mn(),"quorumPercentage"),t.addVariant(2,_n([]),"disabled"),t})(),(e=>{const t=Cn(Mn("discriminator"),null,"councilVetoVoteThreshold");return t.addVariant(0,Mn(),"yesVotePercentage"),t.addVariant(1,Mn(),"quorumPercentage"),t.addVariant(2,_n([]),"disabled"),t})(),nr("minCouncilWeightToCreateProposal")],"config")]),"setGovernanceConfig"),Rr.addVariant(20,_n([]),"flagTransactionError"),Rr.addVariant(21,_n([(e=>{const t=Cn(Mn("discriminator"),null,"action");return t.addVariant(0,_n([]),"setUnchecked"),t.addVariant(1,_n([]),"setChecked"),t.addVariant(2,_n([]),"remove"),t})()]),"setRealmAuthority"),Rr.addVariant(22,_n([_n([er("useCouncilMint"),nr("minCommunityWeightToCreateGovernance"),(e=>{const t=Cn(Mn("discriminator"),null,"communityMintMaxVoteWeightSource");return t.addVariant(0,nr(),"supplyFraction"),t.addVariant(1,nr(),"absolute"),t})(),er("useCommunityVoterWeightAddin"),er("useMaxCommunityVoterWeightAddin")],"configArgs")]),"setRealmConfig"),Rr.addVariant(23,_n([]),"createTokenOwnerRecord"),Rr.addVariant(24,_n([]),"updateProgramMetadata"),Rr.addVariant(25,_n([]),"createNativeTreasury");class Or{constructor(e){}encode(e,t){throw new Error("SplGovernance does not have state")}decode(e){throw new Error("SplGovernance does not have state")}}class Cr{constructor(e){}encode(e,t){throw new Error("SplGovernance does not have user-defined types")}decode(e,t){throw new Error("SplGovernance does not have user-defined types")}}class Gr{constructor(e){this.accounts=new mr(e),this.events=new Mr(e),this.instruction=new Pr(e),this.state=new Or(e),this.types=new Cr(e)}}const Lr=e.default;function Br(e){var t;return new Wt(Ur,null!==(t=null==e?void 0:e.programId)&&void 0!==t?t:Lr,null==e?void 0:e.provider,new Gr(Ur))}const Ur={version:"3.0.0",name:"spl_governance",instructions:[{name:"createRealm",accounts:[{name:"realmAddress",isMut:!0,isSigner:!1},{name:"realmAuthority",isMut:!1,isSigner:!1},{name:"communityTokenMint",isMut:!1,isSigner:!1},{name:"communityTokenHoldingAddress",isMut:!0,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"name",type:"string"},{name:"configArgs",type:{defined:"RealmConfigArgs"}}]},{name:"depositGoverningTokens",accounts:[{name:"realm",isMut:!1,isSigner:!1},{name:"governingTokenHoldingAddress",isMut:!0,isSigner:!1},{name:"governingTokenSource",isMut:!0,isSigner:!1},{name:"governingTokenOwner",isMut:!1,isSigner:!0},{name:"governingTokenTransferAuthority",isMut:!1,isSigner:!0},{name:"tokenOwnerRecordAddress",isMut:!0,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"}]},{name:"withdrawGoverningTokens",accounts:[{name:"realm",isMut:!1,isSigner:!1},{name:"governingTokenHoldingAddress",isMut:!0,isSigner:!1},{name:"governingTokenDestination",isMut:!0,isSigner:!1},{name:"governingTokenOwner",isMut:!1,isSigner:!0},{name:"tokenOwnerRecordAddress",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"setGovernanceDelegate",accounts:[{name:"governanceAuthority",isMut:!1,isSigner:!0},{name:"voteRecordAddress",isMut:!0,isSigner:!1}],args:[{name:"newGovernanceDelegate",type:{option:"publicKey"}}]},{name:"createGovernance",accounts:[{name:"realm",isMut:!1,isSigner:!1},{name:"governanceAddress",isMut:!0,isSigner:!1},{name:"governedAccountAddress",isMut:!1,isSigner:!1},{name:"tokenOwnerRecord",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"createAuthority",isMut:!1,isSigner:!0}],args:[{name:"config",type:{defined:"GovernanceConfig"}}]},{name:"createProgramGovernance",accounts:[{name:"realm",isMut:!1,isSigner:!1},{name:"programGovernanceAddress",isMut:!0,isSigner:!1},{name:"governedProgram",isMut:!1,isSigner:!1},{name:"governedProgramDataAddress",isMut:!0,isSigner:!1},{name:"governedProgramUpgradeAuthority",isMut:!1,isSigner:!0},{name:"tokenOwnerRecord",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"bpfLoaderUpgradeable",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"createAuthority",isMut:!1,isSigner:!0}],args:[{name:"config",type:{defined:"GovernanceConfig"}},{name:"transferUpgradeAuthority",type:"bool"}]},{name:"createProposal",accounts:[{name:"realm",isMut:!1,isSigner:!1},{name:"proposalAddress",isMut:!0,isSigner:!1},{name:"governance",isMut:!0,isSigner:!1},{name:"proposalOwnerRecord",isMut:!0,isSigner:!1},{name:"governingTokenMint",isMut:!1,isSigner:!1},{name:"governanceAuthority",isMut:!1,isSigner:!0},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"name",type:"string"},{name:"descriptionLink",type:"string"},{name:"voteType",type:{defined:"VoteType"}},{name:"options",type:{vec:"string"}},{name:"useDenyOption",type:"bool"}]},{name:"addSignatory",accounts:[{name:"proposal",isMut:!0,isSigner:!1},{name:"tokenOwnerRecord",isMut:!1,isSigner:!1},{name:"governanceAuthority",isMut:!1,isSigner:!0},{name:"signatoryRecordAddress",isMut:!0,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"signatory",type:"publicKey"}]},{name:"removeSignatory",accounts:[{name:"proposal",isMut:!0,isSigner:!1},{name:"tokenOwnerRecord",isMut:!1,isSigner:!1},{name:"governanceAuthority",isMut:!1,isSigner:!0},{name:"signatoryRecordAddress",isMut:!0,isSigner:!1},{name:"beneficiary",isMut:!0,isSigner:!1}],args:[{name:"signatory",type:"publicKey"}]},{name:"insertTransaction",accounts:[{name:"governance",isMut:!1,isSigner:!1},{name:"proposal",isMut:!0,isSigner:!1},{name:"tokenOwnerRecord",isMut:!1,isSigner:!1},{name:"governanceAuthority",isMut:!1,isSigner:!0},{name:"proposalTransactionAddress",isMut:!0,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"optionIndex",type:"u8"},{name:"index",type:"u16"},{name:"holdUpTime",type:"u32"},{name:"instructions",type:{vec:{defined:"InstructionData"}}}]},{name:"removeTransaction",accounts:[{name:"proposal",isMut:!0,isSigner:!1},{name:"tokenOwnerRecord",isMut:!1,isSigner:!1},{name:"governanceAuthority",isMut:!1,isSigner:!0},{name:"proposalTransaction",isMut:!0,isSigner:!1},{name:"beneficiary",isMut:!0,isSigner:!1}],args:[]},{name:"cancelProposal",accounts:[{name:"realm",isMut:!0,isSigner:!1},{name:"governance",isMut:!0,isSigner:!1},{name:"proposal",isMut:!0,isSigner:!1},{name:"proposalOwnerRecord",isMut:!0,isSigner:!1},{name:"governanceAuthority",isMut:!1,isSigner:!0}],args:[]},{name:"signOffProposal",accounts:[{name:"realm",isMut:!0,isSigner:!1},{name:"governance",isMut:!0,isSigner:!1},{name:"proposal",isMut:!0,isSigner:!1},{name:"signatory",isMut:!1,isSigner:!0}],args:[]},{name:"castVote",accounts:[{name:"realm",isMut:!0,isSigner:!1},{name:"governance",isMut:!0,isSigner:!1},{name:"proposal",isMut:!0,isSigner:!1},{name:"proposalOwnerRecord",isMut:!0,isSigner:!1},{name:"voterTokenOwnerRecord",isMut:!0,isSigner:!1},{name:"governanceAuthority",isMut:!1,isSigner:!0},{name:"voteRecordAddress",isMut:!0,isSigner:!1},{name:"voteGoverningTokenMint",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"vote",type:{defined:"Vote"}}]},{name:"finalizeVote",accounts:[{name:"realm",isMut:!0,isSigner:!1},{name:"governance",isMut:!0,isSigner:!1},{name:"proposal",isMut:!0,isSigner:!1},{name:"proposalOwnerRecord",isMut:!0,isSigner:!1},{name:"governingTokenMint",isMut:!1,isSigner:!1}],args:[]},{name:"relinquishVote",accounts:[{name:"realm",isMut:!1,isSigner:!1},{name:"governance",isMut:!1,isSigner:!1},{name:"proposal",isMut:!0,isSigner:!1},{name:"tokenOwnerRecord",isMut:!0,isSigner:!1},{name:"voteRecordAddress",isMut:!0,isSigner:!1},{name:"voteGoverningTokenMint",isMut:!1,isSigner:!1}],args:[]},{name:"executeTransaction",accounts:[{name:"governance",isMut:!1,isSigner:!1},{name:"proposal",isMut:!0,isSigner:!1},{name:"proposalTransaction",isMut:!0,isSigner:!1},{name:"instructionProgram",isMut:!1,isSigner:!1}],args:[]},{name:"createMintGovernance",accounts:[{name:"realm",isMut:!1,isSigner:!1},{name:"mintGovernanceAddress",isMut:!0,isSigner:!1},{name:"governedMint",isMut:!0,isSigner:!1},{name:"governedMintAuthority",isMut:!1,isSigner:!0},{name:"tokenOwnerRecord",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"createAuthority",isMut:!1,isSigner:!0}],args:[{name:"config",type:{defined:"GovernanceConfig"}},{name:"transferMintAuthorities",type:"bool"}]},{name:"createTokenGovernance",accounts:[{name:"realm",isMut:!1,isSigner:!1},{name:"tokenGovernanceAddress",isMut:!0,isSigner:!1},{name:"governedToken",isMut:!0,isSigner:!1},{name:"governedTokenOwner",isMut:!1,isSigner:!0},{name:"tokenOwnerRecord",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"createAuthority",isMut:!1,isSigner:!0}],args:[{name:"config",type:{defined:"GovernanceConfig"}},{name:"transferAccountAuthorities",type:"bool"}]},{name:"setGovernanceConfig",accounts:[{name:"governance",isMut:!0,isSigner:!0}],args:[{name:"config",type:{defined:"GovernanceConfig"}}]},{name:"flagTransactionError",accounts:[{name:"proposal",isMut:!0,isSigner:!1},{name:"tokenOwnerRecord",isMut:!1,isSigner:!1},{name:"governanceAuthority",isMut:!1,isSigner:!0},{name:"proposalTransaction",isMut:!0,isSigner:!1}],args:[]},{name:"setRealmAuthority",accounts:[{name:"realm",isMut:!0,isSigner:!1},{name:"realmAuthority",isMut:!1,isSigner:!0}],args:[{name:"action",type:{defined:"SetRealmAuthorityAction"}}]},{name:"setRealmConfig",accounts:[{name:"realm",isMut:!0,isSigner:!1},{name:"realmAuthority",isMut:!1,isSigner:!0}],args:[{name:"configArgs",type:{defined:"RealmConfigArgs"}}]},{name:"createTokenOwnerRecord",accounts:[{name:"realm",isMut:!1,isSigner:!1},{name:"governingTokenOwner",isMut:!1,isSigner:!1},{name:"tokenOwnerRecordAddress",isMut:!0,isSigner:!1},{name:"governingTokenMint",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"updateProgramMetadata",accounts:[{name:"programMetadataAddress",isMut:!0,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"createNativeTreasury",accounts:[{name:"governance",isMut:!1,isSigner:!1},{name:"nativeTreasuryAddress",isMut:!0,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"realmV2",type:{kind:"struct",fields:[{name:"accountType",type:{defined:"GovernanceAccountType"}},{name:"communityMint",type:"publicKey"},{name:"config",type:{defined:"RealmConfig"}},{name:"reserved",type:{array:["u8",6]}},{name:"votingProposalCount",type:"u16"},{name:"authority",type:{option:"publicKey"}},{name:"name",type:"string"},{name:"reservedV2",type:{array:["u8",128]}}]}},{name:"proposalV2",type:{kind:"struct",fields:[{name:"accountType",type:{defined:"GovernanceAccountType"}},{name:"governance",type:"publicKey"},{name:"governingTokenMint",type:"publicKey"},{name:"state",type:{defined:"ProposalState"}},{name:"tokenOwnerRecord",type:"publicKey"},{name:"signatoriesCount",type:"u8"},{name:"signatoriesSignedOffCount",type:"u8"},{name:"voteType",type:{defined:"VoteType"}},{name:"options",type:{vec:{defined:"ProposalOption"}}},{name:"denyVoteWeight",type:{option:"u64"}},{name:"reserved1",type:"u8"},{name:"abstainVoteWeight",type:{option:"u64"}},{name:"startVotingAt",type:{option:"i64"}},{name:"draftAt",type:"i64"},{name:"signingOffAt",type:{option:"i64"}},{name:"votingAt",type:{option:"i64"}},{name:"votingAtSlot",type:{option:"u64"}},{name:"votingCompletedAt",type:{option:"i64"}},{name:"executingAt",type:{option:"i64"}},{name:"closedAt",type:{option:"i64"}},{name:"executionFlags",type:{defined:"InstructionExecutionFlags"}},{name:"maxVoteWeight",type:{option:"u64"}},{name:"maxVotingTime",type:{option:"u32"}},{name:"voteThreshold",type:{option:{defined:"VoteThreshold"}}},{name:"reserved",type:{array:["u8",64]}},{name:"name",type:"string"},{name:"descriptionLink",type:"string"},{name:"vetoVoteWeight",type:"u64"}]}},{name:"programMetadata",type:{kind:"struct",fields:[{name:"accountType",type:{defined:"GovernanceAccountType"}},{name:"updatedAt",type:"u64"},{name:"version",type:"string"},{name:"reserved",type:{array:["u8",64]}}]}},{name:"signatoryRecordV2",type:{kind:"struct",fields:[{name:"accountType",type:{defined:"GovernanceAccountType"}},{name:"proposal",type:"publicKey"},{name:"signatory",type:"publicKey"},{name:"signedOff",type:"bool"},{name:"reservedV2",type:{array:["u8",8]}}]}},{name:"realmV1",type:{kind:"struct",fields:[{name:"accountType",type:{defined:"GovernanceAccountType"}},{name:"communityMint",type:"publicKey"},{name:"config",type:{defined:"RealmConfig"}},{name:"reserved",type:{array:["u8",6]}},{name:"votingProposalCount",type:"u16"},{name:"authority",type:{option:"publicKey"}},{name:"name",type:"string"}]}},{name:"tokenOwnerRecordV1",type:{kind:"struct",fields:[{name:"accountType",type:{defined:"GovernanceAccountType"}},{name:"realm",type:"publicKey"},{name:"governingTokenMint",type:"publicKey"},{name:"governingTokenOwner",type:"publicKey"},{name:"governingTokenDepositAmount",type:"u64"},{name:"unrelinquishedVotesCount",type:"u32"},{name:"totalVotesCount",type:"u32"},{name:"outstandingProposalCount",type:"u8"},{name:"reserved",type:{array:["u8",7]}},{name:"governanceDelegate",type:{option:"publicKey"}}]}},{name:"governanceV1",type:{kind:"struct",fields:[{name:"accountType",type:{defined:"GovernanceAccountType"}},{name:"realm",type:"publicKey"},{name:"governedAccount",type:"publicKey"},{name:"proposalsCount",type:"u32"},{name:"config",type:{defined:"GovernanceConfig"}},{name:"reserved",type:{array:["u8",6]}},{name:"votingProposalCount",type:"u16"}]}},{name:"proposalV1",type:{kind:"struct",fields:[{name:"accountType",type:{defined:"GovernanceAccountType"}},{name:"governance",type:"publicKey"},{name:"governingTokenMint",type:"publicKey"},{name:"state",type:{defined:"ProposalState"}},{name:"tokenOwnerRecord",type:"publicKey"},{name:"signatoriesCount",type:"u8"},{name:"signatoriesSignedOffCount",type:"u8"},{name:"yesVotesCount",type:"u64"},{name:"noVotesCount",type:"u64"},{name:"instructionsExecutedCount",type:"u16"},{name:"instructionsCount",type:"u16"},{name:"instructionsNextIndex",type:"u16"},{name:"draftAt",type:"i64"},{name:"signingOffAt",type:{option:"i64"}},{name:"votingAt",type:{option:"i64"}},{name:"votingAtSlot",type:{option:"u64"}},{name:"votingCompletedAt",type:{option:"i64"}},{name:"executingAt",type:{option:"i64"}},{name:"closedAt",type:{option:"i64"}},{name:"executionFlags",type:{defined:"InstructionExecutionFlags"}},{name:"maxVoteWeight",type:{option:"u64"}},{name:"voteThreshold",type:{option:{defined:"VoteThreshold"}}},{name:"name",type:"string"},{name:"descriptionLink",type:"string"}]}},{name:"signatoryRecordV1",type:{kind:"struct",fields:[{name:"accountType",type:{defined:"GovernanceAccountType"}},{name:"proposal",type:"publicKey"},{name:"signatory",type:"publicKey"},{name:"signedOff",type:"bool"}]}},{name:"voteRecordV1",type:{kind:"struct",fields:[{name:"accountType",type:{defined:"GovernanceAccountType"}},{name:"proposal",type:"publicKey"},{name:"governingTokenOwner",type:"publicKey"},{name:"isRelinquished",type:"bool"},{name:"voteWeight",type:{defined:"VoteWeightV1"}}]}},{name:"governanceV2",type:{kind:"struct",fields:[{name:"accountType",type:{defined:"GovernanceAccountType"}},{name:"realm",type:"publicKey"},{name:"governedAccount",type:"publicKey"},{name:"proposalsCount",type:"u32"},{name:"config",type:{defined:"GovernanceConfig"}},{name:"reserved",type:{array:["u8",6]}},{name:"votingProposalCount",type:"u16"},{name:"reservedV2",type:{array:["u8",128]}}]}},{name:"voteRecordV2",type:{kind:"struct",fields:[{name:"accountType",type:{defined:"GovernanceAccountType"}},{name:"proposal",type:"publicKey"},{name:"governingTokenOwner",type:"publicKey"},{name:"isRelinquished",type:"bool"},{name:"voterWeight",type:"u64"},{name:"vote",type:{defined:"Vote"}},{name:"reservedV2",type:{array:["u8",8]}}]}},{name:"tokenOwnerRecordV2",type:{kind:"struct",fields:[{name:"accountType",type:{defined:"GovernanceAccountType"}},{name:"realm",type:"publicKey"},{name:"governingTokenMint",type:"publicKey"},{name:"governingTokenOwner",type:"publicKey"},{name:"governingTokenDepositAmount",type:"u64"},{name:"unrelinquishedVotesCount",type:"u32"},{name:"totalVotesCount",type:"u32"},{name:"outstandingProposalCount",type:"u8"},{name:"reserved",type:{array:["u8",7]}},{name:"governanceDelegate",type:{option:"publicKey"}},{name:"reservedV2",type:{array:["u8",128]}}]}},{name:"realmConfigAccount",type:{kind:"struct",fields:[{name:"accountType",type:{defined:"GovernanceAccountType"}},{name:"realm",type:"publicKey"},{name:"communityVoterWeightAddin",type:{option:"publicKey"}},{name:"maxCommunityVoterWeightAddin",type:{option:"publicKey"}},{name:"councilVoterWeightAddin",type:{option:"publicKey"}},{name:"councilMaxVoteWeightAddin",type:{option:"publicKey"}},{name:"reserved",type:{array:["u8",128]}}]}},{name:"proposalTransactionV2",type:{kind:"struct",fields:[{name:"accountType",type:{defined:"GovernanceAccountType"}},{name:"proposal",type:"publicKey"},{name:"optionIndex",type:"u8"},{name:"transactionIndex",type:"u16"},{name:"holdUpTime",type:"u32"},{name:"instructions",type:{vec:{defined:"InstructionData"}}},{name:"executedAt",type:{option:"i64"}},{name:"executionStatus",type:{defined:"TransactionExecutionStatus"}},{name:"reservedV2",type:{array:["u8",8]}}]}}],types:[{name:"NativeTreasury",type:{kind:"struct",fields:[]}},{name:"RealmConfigArgs",type:{kind:"struct",fields:[{name:"useCouncilMint",type:"bool"},{name:"minCommunityWeightToCreateGovernance",type:"u64"},{name:"communityMintMaxVoteWeightSource",type:{defined:"MintMaxVoteWeightSource"}},{name:"useCommunityVoterWeightAddin",type:"bool"},{name:"useMaxCommunityVoterWeightAddin",type:"bool"}]}},{name:"RealmConfig",type:{kind:"struct",fields:[{name:"useCommunityVoterWeightAddin",type:"bool"},{name:"useMaxCommunityVoterWeightAddin",type:"bool"},{name:"reserved",type:{array:["u8",6]}},{name:"minCommunityWeightToCreateGovernance",type:"u64"},{name:"communityMintMaxVoteWeightSource",type:{defined:"MintMaxVoteWeightSource"}},{name:"councilMint",type:{option:"publicKey"}}]}},{name:"ProposalOption",type:{kind:"struct",fields:[{name:"label",type:"string"},{name:"voteWeight",type:"u64"},{name:"voteResult",type:{defined:"OptionVoteResult"}},{name:"transactionsExecutedCount",type:"u16"},{name:"transactionsCount",type:"u16"},{name:"transactionsNextIndex",type:"u16"}]}},{name:"GovernanceConfig",type:{kind:"struct",fields:[{name:"communityVoteThreshold",type:{defined:"VoteThreshold"}},{name:"minCommunityWeightToCreateProposal",type:"u64"},{name:"minTransactionHoldUpTime",type:"u32"},{name:"maxVotingTime",type:"u32"},{name:"voteTipping",type:{defined:"VoteTipping"}},{name:"councilVoteThreshold",type:{defined:"VoteThreshold"}},{name:"councilVetoVoteThreshold",type:{defined:"VoteThreshold"}},{name:"minCouncilWeightToCreateProposal",type:"u64"}]}},{name:"AccountMetaData",type:{kind:"struct",fields:[{name:"pubkey",type:"publicKey"},{name:"isSigner",type:"bool"},{name:"isWritable",type:"bool"}]}},{name:"InstructionData",type:{kind:"struct",fields:[{name:"programId",type:"publicKey"},{name:"accounts",type:{vec:{defined:"AccountMetaData"}}},{name:"data",type:"bytes"}]}},{name:"ProposalInstructionV1",type:{kind:"struct",fields:[{name:"accountType",type:{defined:"GovernanceAccountType"}},{name:"proposal",type:"publicKey"},{name:"instructionIndex",type:"u16"},{name:"holdUpTime",type:"u32"},{name:"instruction",type:{defined:"InstructionData"}},{name:"executedAt",type:{option:"i64"}},{name:"executionStatus",type:{defined:"TransactionExecutionStatus"}}]}},{name:"VoteChoice",type:{kind:"struct",fields:[{name:"rank",type:"u8"},{name:"weightPercentage",type:"u8"}]}},{name:"MintMaxVoteWeightSource",type:{kind:"enum",variants:[{name:"SupplyFraction",fields:["u64"]},{name:"Absolute",fields:["u64"]}]}},{name:"GovernanceAccountType",type:{kind:"enum",variants:[{name:"Uninitialized"},{name:"RealmV1"},{name:"TokenOwnerRecordV1"},{name:"GovernanceV1"},{name:"ProgramGovernanceV1"},{name:"ProposalV1"},{name:"SignatoryRecordV1"},{name:"VoteRecordV1"},{name:"ProposalInstructionV1"},{name:"MintGovernanceV1"},{name:"TokenGovernanceV1"},{name:"RealmConfig"},{name:"VoteRecordV2"},{name:"ProposalTransactionV2"},{name:"ProposalV2"},{name:"ProgramMetadata"},{name:"RealmV2"},{name:"TokenOwnerRecordV2"},{name:"GovernanceV2"},{name:"ProgramGovernanceV2"},{name:"MintGovernanceV2"},{name:"TokenGovernanceV2"},{name:"SignatoryRecordV2"}]}},{name:"OptionVoteResult",type:{kind:"enum",variants:[{name:"None"},{name:"Succeeded"},{name:"Defeated"}]}},{name:"ProposalState",type:{kind:"enum",variants:[{name:"Draft"},{name:"SigningOff"},{name:"Voting"},{name:"Succeeded"},{name:"Executing"},{name:"Completed"},{name:"Cancelled"},{name:"Defeated"},{name:"ExecutingWithErrors"},{name:"Vetoed"}]}},{name:"VoteType",type:{kind:"enum",variants:[{name:"SingleChoice"},{name:"MultiChoice",fields:[{name:"max_voter_options",type:"u8"},{name:"max_winning_options",type:"u8"}]}]}},{name:"InstructionExecutionFlags",type:{kind:"enum",variants:[{name:"None"},{name:"Ordered"},{name:"UseTransaction"}]}},{name:"VoteThreshold",type:{kind:"enum",variants:[{name:"YesVotePercentage",fields:["u8"]},{name:"QuorumPercentage",fields:["u8"]},{name:"Disabled"}]}},{name:"VoteTipping",type:{kind:"enum",variants:[{name:"Strict"},{name:"Early"},{name:"Disabled"}]}},{name:"TransactionExecutionStatus",type:{kind:"enum",variants:[{name:"None"},{name:"Success"},{name:"Error"}]}},{name:"VoteWeightV1",type:{kind:"enum",variants:[{name:"Yes",fields:["u64"]},{name:"No",fields:["u64"]}]}},{name:"Vote",type:{kind:"enum",variants:[{name:"Approve",fields:[{vec:{defined:"VoteChoice"}}]},{name:"Deny"},{name:"Abstain"},{name:"Veto"}]}},{name:"SetRealmAuthorityAction",type:{kind:"enum",variants:[{name:"SetUnchecked"},{name:"SetChecked"},{name:"Remove"}]}}],errors:[{code:500,name:"InvalidInstruction",msg:"Invalid instruction passed to program"},{code:501,name:"RealmAlreadyExists",msg:"Realm with the given name and governing mints already exists"},{code:502,name:"InvalidRealm",msg:"Invalid realm"},{code:503,name:"InvalidGoverningTokenMint",msg:"Invalid Governing Token Mint"},{code:504,name:"GoverningTokenOwnerMustSign",msg:"Governing Token Owner must sign transaction"},{code:505,name:"GoverningTokenOwnerOrDelegateMustSign",msg:"Governing Token Owner or Delegate  must sign transaction"},{code:506,name:"AllVotesMustBeRelinquishedToWithdrawGoverningTokens",msg:"All votes must be relinquished to withdraw governing tokens"},{code:507,name:"InvalidTokenOwnerRecordAccountAddress",msg:"Invalid Token Owner Record account address"},{code:508,name:"InvalidGoverningMintForTokenOwnerRecord",msg:"Invalid GoverningMint for TokenOwnerRecord"},{code:509,name:"InvalidRealmForTokenOwnerRecord",msg:"Invalid Realm for TokenOwnerRecord"},{code:510,name:"InvalidProposalForProposalTransaction",msg:"Invalid Proposal for ProposalTransaction,"},{code:511,name:"InvalidSignatoryAddress",msg:"Invalid Signatory account address"},{code:512,name:"SignatoryAlreadySignedOff",msg:"Signatory already signed off"},{code:513,name:"SignatoryMustSign",msg:"Signatory must sign"},{code:514,name:"InvalidProposalOwnerAccount",msg:"Invalid Proposal Owner"},{code:515,name:"InvalidProposalForVoterRecord",msg:"Invalid Proposal for VoterRecord"},{code:516,name:"InvalidGoverningTokenOwnerForVoteRecord",msg:"Invalid GoverningTokenOwner for VoteRecord"},{code:517,name:"InvalidVoteThresholdPercentage",msg:"Invalid Governance config: Vote threshold percentage out of range"},{code:518,name:"ProposalAlreadyExists",msg:"Proposal for the given Governance, Governing Token Mint and index already exists"},{code:519,name:"VoteAlreadyExists",msg:"Token Owner already voted on the Proposal"},{code:520,name:"NotEnoughTokensToCreateProposal",msg:"Owner doesn't have enough governing tokens to create Proposal"},{code:521,name:"InvalidStateCannotEditSignatories",msg:"Invalid State: Can't edit Signatories"},{code:522,name:"InvalidProposalState",msg:"Invalid Proposal state"},{code:523,name:"InvalidStateCannotEditTransactions",msg:"Invalid State: Can't edit transactions"},{code:524,name:"InvalidStateCannotExecuteTransaction",msg:"Invalid State: Can't execute transaction"},{code:525,name:"CannotExecuteTransactionWithinHoldUpTime",msg:"Can't execute transaction within its hold up time"},{code:526,name:"TransactionAlreadyExecuted",msg:"Transaction already executed"},{code:527,name:"InvalidTransactionIndex",msg:"Invalid Transaction index"},{code:528,name:"TransactionHoldUpTimeBelowRequiredMin",msg:"Transaction hold up time is below the min specified by Governance"},{code:529,name:"TransactionAlreadyExists",msg:"Transaction at the given index for the Proposal already exists"},{code:530,name:"InvalidStateCannotSignOff",msg:"Invalid State: Can't sign off"},{code:531,name:"InvalidStateCannotVote",msg:"Invalid State: Can't vote"},{code:532,name:"InvalidStateCannotFinalize",msg:"Invalid State: Can't finalize vote"},{code:533,name:"InvalidStateCannotCancelProposal",msg:"Invalid State: Can't cancel Proposal"},{code:534,name:"VoteAlreadyRelinquished",msg:"Vote already relinquished"},{code:535,name:"CannotFinalizeVotingInProgress",msg:"Can't finalize vote. Voting still in progress"},{code:536,name:"ProposalVotingTimeExpired",msg:"Proposal voting time expired"},{code:537,name:"InvalidSignatoryMint",msg:"Invalid Signatory Mint"},{code:538,name:"InvalidGovernanceForProposal",msg:"Proposal does not belong to the given Governance"},{code:539,name:"InvalidGoverningMintForProposal",msg:"Proposal does not belong to given Governing Mint"},{code:540,name:"MintAuthorityMustSign",msg:"Current mint authority must sign transaction"},{code:541,name:"InvalidMintAuthority",msg:"Invalid mint authority"},{code:542,name:"MintHasNoAuthority",msg:"Mint has no authority"},{code:543,name:"SplTokenAccountWithInvalidOwner",msg:"Invalid Token account owner"},{code:544,name:"SplTokenMintWithInvalidOwner",msg:"Invalid Mint account owner"},{code:545,name:"SplTokenAccountNotInitialized",msg:"Token Account is not initialized"},{code:546,name:"SplTokenAccountDoesNotExist",msg:"Token Account doesn't exist"},{code:547,name:"SplTokenInvalidTokenAccountData",msg:"Token account data is invalid"},{code:548,name:"SplTokenInvalidMintAccountData",msg:"Token mint account data is invalid"},{code:549,name:"SplTokenMintNotInitialized",msg:"Token Mint account is not initialized"},{code:550,name:"SplTokenMintDoesNotExist",msg:"Token Mint account doesn't exist"},{code:551,name:"InvalidProgramDataAccountAddress",msg:"Invalid ProgramData account address"},{code:552,name:"InvalidProgramDataAccountData",msg:"Invalid ProgramData account Data"},{code:553,name:"InvalidUpgradeAuthority",msg:"Provided upgrade authority doesn't match current program upgrade authority"},{code:554,name:"UpgradeAuthorityMustSign",msg:"Current program upgrade authority must sign transaction"},{code:555,name:"ProgramNotUpgradable",msg:"Given program is not upgradable"},{code:556,name:"InvalidTokenOwner",msg:"Invalid token owner"},{code:557,name:"TokenOwnerMustSign",msg:"Current token owner must sign transaction"},{code:558,name:"VoteThresholdTypeNotSupported",msg:"Given VoteThresholdType is not supported"},{code:559,name:"VoteWeightSourceNotSupported",msg:"Given VoteWeightSource is not supported"},{code:560,name:"GoverningTokenMintNotAllowedToVote",msg:"GoverningTokenMint not allowed to vote"},{code:561,name:"GovernancePdaMustSign",msg:"Governance PDA must sign"},{code:562,name:"TransactionAlreadyFlaggedWithError",msg:"Transaction already flagged with error"},{code:563,name:"InvalidRealmForGovernance",msg:"Invalid Realm for Governance"},{code:564,name:"InvalidAuthorityForRealm",msg:"Invalid Authority for Realm"},{code:565,name:"RealmHasNoAuthority",msg:"Realm has no authority"},{code:566,name:"RealmAuthorityMustSign",msg:"Realm authority must sign"},{code:567,name:"InvalidGoverningTokenHoldingAccount",msg:"Invalid governing token holding account"},{code:568,name:"RealmCouncilMintChangeIsNotSupported",msg:"Realm council mint change is not supported"},{code:569,name:"MintMaxVoteWeightSourceNotSupported",msg:"Not supported mint max vote weight source"},{code:570,name:"InvalidMaxVoteWeightSupplyFraction",msg:"Invalid max vote weight supply fraction"},{code:571,name:"NotEnoughTokensToCreateGovernance",msg:"Owner doesn't have enough governing tokens to create Governance"},{code:572,name:"TooManyOutstandingProposals",msg:"Too many outstanding proposals"},{code:573,name:"AllProposalsMustBeFinalisedToWithdrawGoverningTokens",msg:"All proposals must be finalized to withdraw governing tokens"},{code:574,name:"InvalidVoterWeightRecordForRealm",msg:"Invalid VoterWeightRecord for Realm"},{code:575,name:"InvalidVoterWeightRecordForGoverningTokenMint",msg:"Invalid VoterWeightRecord for GoverningTokenMint"},{code:576,name:"InvalidVoterWeightRecordForTokenOwner",msg:"Invalid VoterWeightRecord for TokenOwner"},{code:577,name:"VoterWeightRecordExpired",msg:"VoterWeightRecord expired"},{code:578,name:"InvalidRealmConfigForRealm",msg:"Invalid RealmConfig for Realm"},{code:579,name:"TokenOwnerRecordAlreadyExists",msg:"TokenOwnerRecord already exists"},{code:580,name:"GoverningTokenDepositsNotAllowed",msg:"Governing token deposits not allowed"},{code:581,name:"InvalidVoteChoiceWeightPercentage",msg:"Invalid vote choice weight percentage"},{code:582,name:"VoteTypeNotSupported",msg:"Vote type not supported"},{code:583,name:"InvalidProposalOptions",msg:"Invalid proposal options"},{code:584,name:"ProposalIsNotExecutable",msg:"Proposal is not not executable"},{code:585,name:"InvalidVote",msg:"Invalid vote"},{code:586,name:"CannotExecuteDefeatedOption",msg:"Cannot execute defeated option"},{code:587,name:"VoterWeightRecordInvalidAction",msg:"VoterWeightRecord invalid action"},{code:588,name:"VoterWeightRecordInvalidActionTarget",msg:"VoterWeightRecord invalid action target"},{code:589,name:"InvalidMaxVoterWeightRecordForRealm",msg:"Invalid MaxVoterWeightRecord for Realm"},{code:590,name:"InvalidMaxVoterWeightRecordForGoverningTokenMint",msg:"Invalid MaxVoterWeightRecord for GoverningTokenMint"},{code:591,name:"MaxVoterWeightRecordExpired",msg:"MaxVoterWeightRecord expired"},{code:592,name:"NotSupportedVoteType",msg:"Not supported VoteType"},{code:593,name:"RealmConfigChangeNotAllowed",msg:"RealmConfig change not allowed"},{code:594,name:"GovernanceConfigChangeNotAllowed",msg:"GovernanceConfig change not allowed"},{code:595,name:"AtLeastOneVoteThresholdRequired",msg:"At least one VoteThreshold is required"},{code:596,name:"ReservedBufferMustBeEmpty",msg:"Reserved buffer must be empty"},{code:597,name:"CannotRelinquishInFinalizingState",msg:"Cannot Relinquish in Finalizing state"}]};export{Br as splGovernanceProgram};
//# sourceMappingURL=index.js.map
